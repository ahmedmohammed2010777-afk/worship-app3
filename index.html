<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø­Ø±Ø§Ø¨ Ø¹Ø§Ø¦Ù„Ø© Ù…Ø­Ù…Ø¯ 2026 - Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø°Ù‡Ø¨ÙŠØ©</title>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Reem+Kufi:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #1a4d2e; --gold: #c5a059; --bg: #f9f6f0; }
        body {
            font-family: 'Amiri', serif; background-color: var(--bg);
            background-image: url('https://www.transparenttextures.com/patterns/islamic-art.png');
            margin: 0; padding: 10px; color: #2c3e50;
        }
        .main-container {
            max-width: 700px; margin: auto; background: rgba(255,255,255,0.98);
            border: 3px double var(--gold); border-radius: 20px; padding: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        h1, h2, h3 { font-family: 'Reem Kufi', sans-serif; color: var(--primary); text-align: center; margin: 10px 0; }
        
        /* Ø´Ø±ÙŠØ· Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ */
        .header-bar {
            background: var(--primary); color: white; padding: 15px;
            border-radius: 15px; border: 1px solid var(--gold); margin-bottom: 20px;
            text-align: center;
        }
        .date-inputs { display: flex; justify-content: center; gap: 10px; flex-wrap: wrap; }
        .date-inputs input { 
            background: var(--gold); border: none; color: white; padding: 5px; 
            border-radius: 5px; font-family: 'Amiri'; cursor: pointer;
        }

        /* ØªØ±ØªÙŠØ¨ Ø§Ù„Ù…ØªÙ†Ø§ÙØ³ÙŠÙ† ÙˆØ§Ù„Ù…ØªØ¨Ù‚ÙŠ */
        .leaderboard { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 20px; }
        .competitor-card { 
            background: white; border: 2px solid var(--gold); border-radius: 12px; 
            padding: 10px; text-align: center;
        }
        .comp-name { font-weight: bold; color: var(--primary); font-size: 1.1rem; }
        .remaining-tasks { font-size: 0.85rem; color: #883030; margin-top: 5px; background: #fff5f5; border-radius: 5px; }

        /* Ø§Ù„Ø£Ù‚Ø³Ø§Ù… */
        .section-card { background: white; border: 1px solid #ddd; border-radius: 12px; padding: 15px; margin-bottom: 15px; }
        .section-title { color: var(--primary); border-bottom: 2px solid var(--gold); padding-bottom: 5px; margin-bottom: 10px; font-weight: bold; }
        .habit-row { display: flex; justify-content: space-between; align-items: center; padding: 8px 0; border-bottom: 1px dashed #eee; }
        
        /* Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ© */
        .external-link-btn { 
            color: var(--primary); text-decoration: none; font-weight: bold; 
            display: flex; align-items: center; gap: 5px;
        }
        .external-link-btn:hover { color: var(--gold); }

        /* Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© */
        .chat-box { height: 120px; overflow-y: auto; border: 1px solid #ccc; padding: 10px; margin-bottom: 10px; background: #fdfdfd; font-size: 0.9rem; }
    </style>
</head>
<body>

<div class="main-container">
    <h1>ğŸ•Œ Ù…Ø­Ø±Ø§Ø¨ Ø¹Ø§Ø¦Ù„Ø© Ù…Ø­Ù…Ø¯</h1>

    <div class="header-bar">
        <div class="date-inputs">
            <div>
                <span>Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ:</span>
                <input type="date" id="g-picker" onchange="syncFromGregorian(this.value)">
            </div>
            <div>
                <span>Ø§Ù„Ù‡Ø¬Ø±ÙŠ:</span>
                <span id="h-display" style="color: var(--gold); font-weight: bold;"></span>
            </div>
        </div>
        <p style="margin: 5px 0 0 0; font-size: 0.8rem;">(Ø§Ø®ØªØ± Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ Ù„Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„Ø£ÙŠØ§Ù…)</p>
    </div>

    <h3>ğŸ† Ù…ÙŠØ¯Ø§Ù† Ø§Ù„ØªÙ†Ø§ÙØ³</h3>
    <div class="leaderboard">
        <div class="competitor-card">
            <div class="comp-name">Ø§Ù„Ø£Ø¨ Ù…Ø­Ù…Ø¯</div>
            <div>Ø§Ù„Ù†Ù‚Ø§Ø·: <span id="p-papa">0</span></div>
            <div class="remaining-tasks">Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: <span id="r-papa">Ø§Ù„ÙØ±ÙˆØ¶ØŒ Ø§Ù„Ø³Ù†Ù†..</span></div>
        </div>
        <div class="competitor-card">
            <div class="comp-name">Ø§Ù„Ø£Ù… Ø´ÙŠÙ…Ø§Ø¡</div>
            <div>Ø§Ù„Ù†Ù‚Ø§Ø·: <span id="p-mama">0</span></div>
            <div class="remaining-tasks">Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: <span id="r-mama">Ø§Ù„ÙØ±ÙˆØ¶ØŒ Ø§Ù„Ø³Ù†Ù†..</span></div>
        </div>
        <div class="competitor-card">
            <div class="comp-name">Ø£Ø­Ù…Ø¯</div>
            <div>Ø§Ù„Ù†Ù‚Ø§Ø·: <span id="p-ahmed">0</span></div>
            <div class="remaining-tasks">Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: <span id="r-ahmed">Ø§Ù„ÙØ±ÙˆØ¶ØŒ Ø§Ù„Ø³Ù†Ù†..</span></div>
        </div>
        <div class="competitor-card">
            <div class="comp-name">ÙŠØ§Ø³ÙŠÙ†</div>
            <div>Ø§Ù„Ù†Ù‚Ø§Ø·: <span id="p-yassin">0</span></div>
            <div class="remaining-tasks">Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: <span id="r-yassin">Ø§Ù„ÙØ±ÙˆØ¶ØŒ Ø§Ù„Ø³Ù†Ù†..</span></div>
        </div>
    </div>

    <div class="section-card">
        <div class="section-title">ğŸ•‹ Ø§Ù„ÙØ±ÙˆØ¶ Ø§Ù„Ø®Ù…Ø³Ø©</div>
        <div class="habit-row"><span>ØµÙ„Ø§Ø© Ø§Ù„ÙØ¬Ø±</span> <input type="checkbox" onchange="updateScore()"></div>
        <div class="habit-row"><span>ØµÙ„Ø§Ø© Ø§Ù„Ø¸Ù‡Ø±</span> <input type="checkbox" onchange="updateScore()"></div>
        <div class="habit-row"><span>ØµÙ„Ø§Ø© Ø§Ù„Ø¹ØµØ±</span> <input type="checkbox" onchange="updateScore()"></div>
        <div class="habit-row"><span>ØµÙ„Ø§Ø© Ø§Ù„Ù…ØºØ±Ø¨</span> <input type="checkbox" onchange="updateScore()"></div>
        <div class="habit-row"><span>ØµÙ„Ø§Ø© Ø§Ù„Ø¹Ø´Ø§Ø¡</span> <input type="checkbox" onchange="updateScore()"></div>
    </div>

    <div class="section-card">
        <div class="section-title">âœ¨ Ø§Ù„Ø³Ù†Ù† ÙˆØ§Ù„Ø±ÙˆØ§ØªØ¨</div>
        <div class="habit-row"><span>Ø³Ù†Ø© Ø§Ù„ÙØ¬Ø± (Ø±ÙƒØ¹ØªØ§Ù†)</span> <input type="checkbox"></div>
        <div class="habit-row"><span>Ø³Ù†Ø© Ø§Ù„Ø¸Ù‡Ø± (4 Ù‚Ø¨Ù„ Ùˆ 2 Ø¨Ø¹Ø¯)</span> <input type="checkbox"></div>
        <div class="habit-row"><span>Ø³Ù†Ø© Ø§Ù„Ù…ØºØ±Ø¨ (Ø±ÙƒØ¹ØªØ§Ù†)</span> <input type="checkbox"></div>
        <div class="habit-row"><span>Ø³Ù†Ø© Ø§Ù„Ø¹Ø´Ø§Ø¡ (Ø±ÙƒØ¹ØªØ§Ù†)</span> <input type="checkbox"></div>
        <div class="habit-row"><span>ØµÙ„Ø§Ø© Ø§Ù„Ø¶Ø­Ù‰</span> <input type="checkbox"></div>
        <div class="habit-row"><span>Ø§Ù„Ø´ÙØ¹ ÙˆØ§Ù„ÙˆØªØ±</span> <input type="checkbox"></div>
    </div>

    <div class="section-card">
        <div class="section-title">ğŸ“– Ø§Ù„Ø£Ø°ÙƒØ§Ø± ÙˆØ§Ù„Ø£ÙˆØ±Ø§Ø¯</div>
        <div class="habit-row">
            <a href="https://alazkar.today/" target="_blank" class="external-link-btn">â˜€ï¸ Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­</a>
            <input type="checkbox">
        </div>
        <div class="habit-row">
            <a href="https://alazkar.today/" target="_blank" class="external-link-btn">ğŸŒ™ Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù…Ø³Ø§Ø¡</a>
            <input type="checkbox">
        </div>
        <div class="habit-row">
            <a href="https://alazkar.today/" target="_blank" class="external-link-btn">ğŸ›Œ Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù†ÙˆÙ…</a>
            <input type="checkbox">
        </div>
        <div class="habit-row">
            <a href="https://quran.com/67" target="_blank" class="external-link-btn">ğŸ›¡ï¸ Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ù„Ùƒ</a>
            <input type="checkbox">
        </div>
        <div id="friday-box" class="habit-row" style="display:none; color: #1a4d2e;">
            <a href="https://quran.com/18" target="_blank" class="external-link-btn">ğŸ•¯ï¸ Ø³ÙˆØ±Ø© Ø§Ù„ÙƒÙ‡Ù</a>
            <input type="checkbox">
        </div>
    </div>

    <div class="section-card">
        <div class="section-title">ğŸ’¬ Ù…Ù„ØªÙ‚Ù‰ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø© (ØªØµÙÙŠØ± ÙŠÙˆÙ…ÙŠ)</div>
        <div id="chat-msgs" class="chat-box"></div>
        <div style="display: flex; gap: 5px;">
            <input type="text" id="chat-in" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„Ø©...">
            <button onclick="sendMsg()" style="background:var(--primary); color:white; border:none; padding:5px 15px; border-radius:5px;">Ø¥Ø±Ø³Ø§Ù„</button>
        </div>
    </div>
</div>

<script>
    // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ØªÙ‚ÙˆÙŠÙ…
    function syncFromGregorian(dateVal) {
        let selected = new Date(dateVal);
        document.getElementById('h-display').innerText = new Intl.DateTimeFormat('ar-SA-u-ca-islamic-uma', {day:'numeric', month:'long', year:'numeric'}).format(selected);
        
        // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ÙƒÙ‡Ù ÙŠÙˆÙ… Ø§Ù„Ø¬Ù…Ø¹Ø©
        document.getElementById('friday-box').style.display = (selected.getDay() === 5) ? "flex" : "none";
        
        // Ù‡Ù†Ø§ ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ù‡Ø°Ø§ Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…Ø­Ø¯Ø¯Ø© Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ†
    }

    // ØªØµÙÙŠØ± Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© Ø§Ù„ÙŠÙˆÙ…ÙŠ
    function manageChat() {
        const todayKey = new Date().toDateString();
        if (localStorage.getItem('last_reset') !== todayKey) {
            localStorage.setItem('family_chat', JSON.stringify([]));
            localStorage.setItem('last_reset', todayKey);
        }
        renderChat();
    }

    function sendMsg() {
        const inp = document.getElementById('chat-in');
        if(!inp.value) return;
        let msgs = JSON.parse(localStorage.getItem('family_chat') || "[]");
        msgs.push({ t: inp.value, time: new Date().toLocaleTimeString('ar-EG') });
        localStorage.setItem('family_chat', JSON.stringify(msgs));
        inp.value = ""; renderChat();
    }

    function renderChat() {
        const box = document.getElementById('chat-msgs');
        let msgs = JSON.parse(localStorage.getItem('family_chat') || "[]");
        box.innerHTML = msgs.map(m => `<div><small>${m.time}</small> ${m.t}</div>`).join('');
        box.scrollTop = box.scrollHeight;
    }

    // ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø­Ø§Ù„ÙŠ Ø¹Ù†Ø¯ Ø§Ù„ÙØªØ­
    window.onload = () => {
        const today = new Date().toISOString().split('T')[0];
        document.getElementById('g-picker').value = today;
        syncFromGregorian(today);
        manageChat();
    };
</script>
</body>
</html>
