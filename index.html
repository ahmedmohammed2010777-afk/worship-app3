<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ·Ø¨ÙŠÙ‚ Ø¹Ø¨Ø§Ø¯ØªÙŠ Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠ Ø§Ù„Ù…Ø·ÙˆØ± 2026</title>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --gold: #b8860b;
            --emerald: #2e7d32;
            --dark-red: #d32f2f;
            --soft-bg: #f4f7f6;
        }

        body { font-family: 'Tajawal', sans-serif; background-color: var(--soft-bg); margin: 0; padding: 10px; color: #333; }
        .container { max-width: 900px; margin: 0 auto; }

        /* Ø§Ù„Ø­Ø¯ÙŠØ« ÙˆØ§Ù„ÙˆÙ…Ø¶Ø© Ø§Ù„ÙØ§Ø®Ø±Ø© */
        .luxury-card {
            background: white; border-radius: 20px; padding: 12px; margin-bottom: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.08); border: 1px solid rgba(184, 134, 11, 0.2);
        }
        .card-inner { border: 2px double var(--gold); border-radius: 15px; padding: 15px; text-align: center; }
        .naskh-font { font-family: 'Amiri', serif; font-size: 1.4rem; line-height: 1.7; margin: 8px 0; color: #1a1a1a; }

        /* Ù…Ù†ØµØ© Ø§Ù„ØªØªÙˆÙŠØ¬ (Ø§Ù„Ø¨ÙˆØ¯ÙŠÙˆÙ…) */
        .podium-container {
            background: white; border-radius: 20px; padding: 20px; margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05); text-align: center;
        }
        .podium-flex { 
            display: flex; align-items: flex-end; justify-content: center; gap: 8px; height: 220px; margin-top: 30px;
        }
        .podium-step {
            flex: 1; display: flex; flex-direction: column; align-items: center;
            border-radius: 12px 12px 0 0; position: relative; padding-bottom: 10px;
        }
        .step-1 { background: linear-gradient(to top, #ffd700, #fffde7); height: 100%; border: 1px solid #ffcc00; }
        .step-2 { background: linear-gradient(to top, #c0c0c0, #f5f5f5); height: 80%; border: 1px solid #bdbdbd; }
        .step-3 { background: linear-gradient(to top, #cd7f32, #efebe9); height: 65%; border: 1px solid #a1887f; }
        .step-4 { background: #e0e0e0; height: 50%; border: 1px solid #9e9e9e; }
        
        .name-tag { font-weight: bold; font-size: 0.85rem; margin-bottom: 2px; }
        .score-tag { font-size: 0.8rem; color: var(--emerald); font-weight: bold; }
        .remain-tag { font-size: 0.7rem; color: var(--dark-red); background: rgba(255,255,255,0.7); padding: 2px 5px; border-radius: 5px; margin-top: 5px; }
        .medal { font-size: 1.8rem; position: absolute; top: -35px; }

        /* Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ø¹Ø¨Ø§Ø¯Ø§Øª */
        .section-box { background: white; border-radius: 15px; padding: 18px; margin-bottom: 15px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); }
        .section-title { border-right: 5px solid var(--emerald); padding-right: 10px; margin-bottom: 15px; color: var(--emerald); font-weight: bold; }
        
        .task-row { display: flex; align-items: center; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid #f0f0f0; }
        .prayer-options { display: flex; gap: 4px; }
        
        .opt-btn { font-size: 0.7rem; padding: 6px 8px; border-radius: 6px; border: 1px solid #ddd; cursor: pointer; background: white; transition: 0.2s; }
        .opt-btn.active-masjid { background: var(--emerald); color: white; border-color: var(--emerald); }
        .opt-btn.active-fard { background: #2196F3; color: white; border-color: #2196F3; }
        .opt-btn.active-qada { background: #757575; color: white; border-color: #757575; }

        .sunnah-badge { font-size: 0.7rem; background: #e8f5e9; color: #2e7d32; padding: 2px 6px; border-radius: 10px; margin-right: 5px; }
        .link-card { display: flex; justify-content: space-between; padding: 12px; background: #fff; border: 1px solid var(--emerald); border-radius: 10px; text-decoration: none; color: var(--emerald); font-weight: bold; margin-bottom: 10px; transition: 0.3s; }
        .link-card:hover { background: var(--emerald); color: white; }
    </style>
</head>
<body>

    <div class="container">
        <div style="text-align: center; margin-bottom: 20px;">
            <input type="date" id="main-calendar" onchange="updateAppDate()" style="padding: 10px; border-radius: 10px; border: 2px solid var(--gold); font-family: 'Tajawal';">
            <h2 id="display-date" style="color: var(--gold); margin-top: 10px;"></h2>
        </div>

        <div class="luxury-card">
            <div class="card-inner">
                <span style="color:var(--gold); font-weight: bold;">âœ¨ Ø­Ø¯ÙŠØ« Ø§Ù„ÙŠÙˆÙ…</span>
                <p id="daily-hadith" class="naskh-font"></p>
            </div>
        </div>
        <div class="luxury-card" style="border-color: var(--emerald);">
            <div class="card-inner" style="border-color: var(--emerald);">
                <span style="color:var(--emerald); font-weight: bold;">ğŸ’¡ ÙˆÙ…Ø¶Ø© Ø§Ù„ÙŠÙˆÙ…</span>
                <p id="daily-flash" class="naskh-font" style="font-size: 1.2rem;"></p>
            </div>
        </div>

        <div class="podium-container">
            <h3 style="color: var(--emerald); margin: 0;">ğŸ† Ù…Ù†ØµØ© Ø§Ù„ØªØªÙˆÙŠØ¬ Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠØ©</h3>
            <div class="podium-flex" id="podium-ui"></div>
        </div>

        <div class="section-box">
            <h3 class="section-title">Ø§Ù„ÙØ±ÙˆØ¶ Ø§Ù„Ø®Ù…Ø³Ø© (ØªØ¯Ø±Ø¬ Ø§Ù„Ø£ÙØ¶Ù„ÙŠØ©)</h3>
            <div id="fard-list"></div>
        </div>

        <div class="section-box">
            <h3 class="section-title">Ø§Ù„Ø³Ù†Ù† Ø§Ù„Ø±ÙˆØ§ØªØ¨ (12 Ø±ÙƒØ¹Ø©)</h3>
            <div id="sunnah-list"></div>
        </div>

        <div class="section-box">
            <h3 class="section-title">Ø§Ù„Ø£ÙˆØ±Ø§Ø¯ Ø§Ù„ÙŠÙˆÙ…ÙŠØ© ÙˆØ§Ù„Ø±ÙˆØ§Ø¨Ø·</h3>
            <div id="daily-words"></div>
            <hr>
            <a href="https://alazkar.today/" target="_blank" class="link-card"><span>ğŸ“– Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­ ÙˆØ§Ù„Ù…Ø³Ø§Ø¡</span> ğŸ”—</a>
            <a href="https://quran.com/67" target="_blank" class="link-card" style="border-color: #2196F3; color: #2196F3;"><span>ğŸ‘‘ Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ù„Ùƒ (Ù‚Ø±Ø§Ø¡Ø©)</span> ğŸ“–</a>
            <div id="kahf-area"></div>
        </div>
    </div>

    <script>
        const hadiths = ["Ù‚Ø§Ù„ ï·º: Â«Ù…ÙÙ†Ù’ ØµÙÙ„Ù‘ÙÙ‰ ÙÙÙŠ ÙŠÙÙˆÙ’Ù…Ù ÙˆÙÙ„ÙÙŠÙ’Ù„ÙØ©Ù Ø«ÙÙ†Ù’ØªÙÙŠÙ’ Ø¹ÙØ´Ù’Ø±ÙØ©Ù Ø±ÙÙƒÙ’Ø¹ÙØ©Ù‹ Ø¨ÙÙ†ÙÙŠÙ Ù„ÙÙ‡Ù Ø¨ÙÙŠÙ’ØªÙŒ ÙÙÙŠ Ø§Ù„Ù’Ø¬ÙÙ†Ù‘ÙØ©ÙÂ»", "Ù‚Ø§Ù„ ï·º: Â«Ø®ÙÙŠÙ’Ø±ÙÙƒÙÙ…Ù’ Ù…ÙÙ†Ù’ ØªÙØ¹ÙÙ„Ù‘ÙÙ…Ù Ø§Ù„Ù’Ù‚ÙØ±Ù’Ø¢Ù†Ù ÙˆÙØ¹ÙÙ„Ù‘ÙÙ…ÙÙ‡ÙÂ»", "Ù‚Ø§Ù„ ï·º: Â«Ø§Ù„Ø¯Ù‘ÙØ¹ÙØ§Ø¡Ù Ù‡ÙÙˆÙ Ø§Ù„Ù’Ø¹ÙØ¨ÙØ§Ø¯ÙØ©ÙÂ»"];
        const flashes = ["Ø§Ù„Ø³Ù†Ù† Ø§Ù„Ø±ÙˆØ§ØªØ¨ ØªØ¬Ø¨Ø± Ù…Ø§ Ù†Ù‚Øµ Ù…Ù† Ø§Ù„ÙØ±ÙŠØ¶Ø©.", "Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ù„Ùƒ Ù‡ÙŠ Ø§Ù„Ù…Ù†Ø¬ÙŠØ© Ù…Ù† Ø¹Ø°Ø§Ø¨ Ø§Ù„Ù‚Ø¨Ø±.", "Ù†ÙˆØ± Ù…Ø§ Ø¨ÙŠÙ† Ø§Ù„Ø¬Ù…Ø¹ØªÙŠÙ† ÙŠÙ†ØªØ¸Ø±Ùƒ ÙÙŠ Ø³ÙˆØ±Ø© Ø§Ù„ÙƒÙ‡Ù."];

        const sunnahData = [
            { name: "Ø³Ù†Ø© Ø§Ù„ÙØ¬Ø±", type: "Ù‚Ø¨Ù„ÙŠØ©", count: 2 },
            { name: "Ø³Ù†Ø© Ø§Ù„Ø¸Ù‡Ø±", type: "Ù‚Ø¨Ù„ÙŠØ©", count: 4 },
            { name: "Ø³Ù†Ø© Ø§Ù„Ø¸Ù‡Ø±", type: "Ø¨Ø¹Ø¯ÙŠØ©", count: 2 },
            { name: "Ø³Ù†Ø© Ø§Ù„Ù…ØºØ±Ø¨", type: "Ø¨Ø¹Ø¯ÙŠØ©", count: 2 },
            { name: "Ø³Ù†Ø© Ø§Ù„Ø¹Ø´Ø§Ø¡", type: "Ø¨Ø¹Ø¯ÙŠØ©", count: 2 }
        ];

        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ø§Ø¦Ù„Ø© (Ù…Ø­Ø¯Ø«Ø©)
        let family = [
            { name: "Ù…Ø­Ù…Ø¯ (Ø§Ù„Ø£Ø¨)", score: 95, tasksDone: 15 },
            { name: "Ø´ÙŠÙ…Ø§Ø¡ (Ø§Ù„Ø£Ù…)", score: 92, tasksDone: 14 },
            { name: "Ø£Ø­Ù…Ø¯ (Ø§Ù„Ø£ÙƒØ¨Ø±)", score: 85, tasksDone: 12 },
            { name: "ÙŠØ§Ø³ÙŠÙ† (Ø§Ù„Ø£ØµØºØ±)", score: 80, tasksDone: 10 }
        ];

        function updateAppDate() {
            const dateVal = document.getElementById('main-calendar').value;
            init(dateVal ? new Date(dateVal) : new Date());
        }

        function init(d = new Date()) {
            const isFriday = d.getDay() === 5;
            const totalTasks = 5 + sunnahData.length + 1 + (isFriday ? 1 : 0); // ÙØ±ÙŠØ¶Ø© + Ø³Ù†Ù† + Ù…Ù„Ùƒ + ÙƒÙ‡Ù
            
            document.getElementById('display-date').innerText = d.toLocaleDateString('ar-EG', {weekday:'long', day:'numeric', month:'long'});
            document.getElementById('daily-hadith').innerText = hadiths[d.getDate() % 3];
            document.getElementById('daily-flash').innerText = flashes[d.getDate() % 3];

            // Ø§Ù„ÙØ±ÙˆØ¶
            const fList = document.getElementById('fard-list');
            fList.innerHTML = "";
            ["Ø§Ù„ÙØ¬Ø±", "Ø§Ù„Ø¸Ù‡Ø±", "Ø§Ù„Ø¹ØµØ±", "Ø§Ù„Ù…ØºØ±Ø¨", "Ø§Ù„Ø¹Ø´Ø§Ø¡"].forEach((p, i) => {
                let name = (isFriday && i === 1) ? "Ø§Ù„Ø¬Ù…Ø¹Ø©" : p;
                fList.innerHTML += `
                    <div class="task-row">
                        <span><b>${name}</b></span>
                        <div class="prayer-options">
                            <button class="opt-btn" onclick="setPr(this)">ğŸ•Œ Ù…Ø³Ø¬Ø¯</button>
                            <button class="opt-btn" onclick="setPr(this, 'fard')">ğŸ‘¤ ÙØ±Ø¯</button>
                            <button class="opt-btn" onclick="setPr(this, 'qada')">ğŸ•’ Ù‚Ø¶Ø§Ø¡</button>
                        </div>
                    </div>`;
            });

            // Ø§Ù„Ø³Ù†Ù†
            const sList = document.getElementById('sunnah-list');
            sList.innerHTML = "";
            sunnahData.forEach(s => {
                sList.innerHTML += `
                    <div class="task-row">
                        <span>${s.name} <span class="sunnah-badge">${s.type} - ${s.count} Ø±ÙƒØ¹Ø§Øª</span></span>
                        <input type="checkbox" class="t-chk" onchange="calc(${totalTasks})">
                    </div>`;
            });

            // Ø§Ù„Ø£ÙˆØ±Ø§Ø¯
            const wList = document.getElementById('daily-words');
            wList.innerHTML = `<div class="task-row"><span>Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ù„Ùƒ</span><input type="checkbox" class="t-chk" onchange="calc(${totalTasks})"></div>`;
            const kahfArea = document.getElementById('kahf-area');
            if(isFriday) {
                wList.innerHTML += `<div class="task-row" style="color:var(--emerald); font-weight:bold;"><span>Ø³ÙˆØ±Ø© Ø§Ù„ÙƒÙ‡Ù</span><input type="checkbox" class="t-chk" onchange="calc(${totalTasks})"></div>`;
                kahfArea.innerHTML = `<a href="https://quran.com/18" target="_blank" class="link-card" style="background:#fff9c4; border-color:#fbc02d"><span>ğŸ•Œ Ù‚Ø±Ø§Ø¡Ø© Ø³ÙˆØ±Ø© Ø§Ù„ÙƒÙ‡Ù</span> ğŸ“–</a>`;
            } else { kahfArea.innerHTML = ""; }

            calc(totalTasks);
        }

        function setPr(btn, type) {
            btn.parentElement.querySelectorAll('.opt-btn').forEach(b => b.className = 'opt-btn');
            btn.classList.add(type === 'fard' ? 'active-fard' : (type === 'qada' ? 'active-qada' : 'active-masjid'));
            updateAppDate(); // Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø¯Ø§Ø¯Ø§Øª
        }

        function calc(total) {
            const done = document.querySelectorAll('.active-masjid, .active-fard, .active-qada, .t-chk:checked').length;
            const remaining = total - done;
            
            // ØªØ­Ø¯ÙŠØ« Ø³ÙƒÙˆØ± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ (ØªØ¬Ø±ÙŠØ¨ÙŠ Ù„ØºØ±Ø¶ Ø§Ù„Ø¹Ø±Ø¶)
            family[0].tasksDone = done;
            family[0].score = Math.round((done/total)*100);
            family[0].remaining = remaining;

            // Ù…Ø­Ø§ÙƒØ§Ø© Ù„Ø¨Ù‚ÙŠØ© Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©
            family.slice(1).forEach(m => m.remaining = Math.floor(Math.random() * 5)); 

            renderPodium();
        }

        function renderPodium() {
            const ui = document.getElementById('podium-ui');
            ui.innerHTML = "";
            let sorted = [...family].sort((a,b) => b.score - a.score);
            let displayOrder = [sorted[1], sorted[0], sorted[2], sorted[3]]; 

            displayOrder.forEach((m) => {
                let stepClass = m === sorted[0] ? "step-1" : (m === sorted[1] ? "step-2" : (m === sorted[2] ? "step-3" : "step-4"));
                let medal = m === sorted[0] ? "ğŸ¥‡" : (m === sorted[1] ? "ğŸ¥ˆ" : (m === sorted[2] ? "ğŸ¥‰" : "ğŸ…"));
                ui.innerHTML += `
                    <div class="podium-step ${stepClass}">
                        <span class="medal">${medal}</span>
                        <span class="name-tag">${m.name.split(' ')[0]}</span>
                        <span class="score-tag">${m.score}%</span>
                        <span class="remain-tag">Ø¨Ø§Ù‚ÙŠ: ${m.remaining || 0}</span>
                    </div>`;
            });
        }

        window.onload = () => {
            document.getElementById('main-calendar').valueAsDate = new Date();
            init();
        };
    </script>
</body>
</html>
