<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø­Ø±Ø§Ø¨ Ø¹Ø§Ø¦Ù„Ø© Ù…Ø­Ù…Ø¯ 2026 - Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø©</title>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Reem+Kufi:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #1a4d2e; --gold: #c5a059; --bg: #f9f6f0; }
        body {
            font-family: 'Amiri', serif; background-color: var(--bg);
            background-image: url('https://www.transparenttextures.com/patterns/islamic-art.png');
            margin: 0; padding: 10px; color: #2c3e50;
        }
        .main-container {
            max-width: 700px; margin: auto; background: rgba(255,255,255,0.98);
            border: 3px double var(--gold); border-radius: 20px; padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        h1, h2, h3 { font-family: 'Reem Kufi', sans-serif; color: var(--primary); text-align: center; }
        
        /* Ø´Ø±ÙŠØ· Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ØªÙ‚ÙˆÙŠÙ… */
        .header-bar {
            background: var(--primary); color: white; padding: 15px;
            border-radius: 15px; border: 1px solid var(--gold); margin-bottom: 20px;
        }
        .date-display { display: flex; justify-content: space-around; font-size: 0.9rem; margin-bottom: 10px; }
        .calendar-nav { display: flex; justify-content: center; gap: 10px; align-items: center; }
        .nav-btn { background: var(--gold); border: none; color: white; padding: 5px 15px; border-radius: 5px; cursor: pointer; }

        /* Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„Ù†Ù‚Ø§Ø· */
        .leaderboard { background: #fff; border: 2px solid var(--gold); border-radius: 15px; padding: 15px; margin-bottom: 20px; }
        .rank-item { display: flex; justify-content: space-between; padding: 8px; border-bottom: 1px solid #eee; font-weight: bold; }
        
        /* Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ ÙˆØ§Ù„Ù‚ÙˆØ§Ø¦Ù… */
        .section-card { background: white; border: 1px solid #ddd; border-radius: 12px; padding: 15px; margin-bottom: 15px; }
        .section-title { color: var(--primary); border-bottom: 2px solid var(--gold); padding-bottom: 5px; margin-bottom: 10px; font-weight: bold; }
        .habit-row { display: flex; justify-content: space-between; align-items: center; padding: 8px 0; border-bottom: 1px dashed #eee; }
        .habit-row:last-child { border-bottom: none; }
        .points-tag { font-size: 0.8rem; color: var(--gold); margin-right: 5px; }

        /* Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© ÙˆØ§Ù„Ø±ÙˆØ§Ø¨Ø· */
        .chat-box { height: 150px; overflow-y: auto; border: 1px solid #ccc; padding: 10px; margin-bottom: 10px; background: #fdfdfd; }
        .ext-links { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 15px 0; }
        .link-btn { text-decoration: none; background: var(--primary); color: white; text-align: center; padding: 10px; border-radius: 8px; border: 1px solid var(--gold); }
    </style>
</head>
<body>

<div class="main-container">
    <h1>ğŸ•Œ Ù…Ø­Ø±Ø§Ø¨ Ø¹Ø§Ø¦Ù„Ø© Ù…Ø­Ù…Ø¯</h1>

    <div class="header-bar">
        <div class="date-display">
            <div><small>Ù…ÙŠÙ„Ø§Ø¯ÙŠ:</small> <span id="g-date"></span></div>
            <div><small>Ù‡Ø¬Ø±ÙŠ:</small> <span id="h-date"></span></div>
        </div>
        <div class="calendar-nav">
            <button class="nav-btn" onclick="changeDate(-1)">â—€ Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
            <span id="current-view-date">Ø§Ù„ÙŠÙˆÙ…</span>
            <button class="nav-btn" onclick="changeDate(1)">Ø§Ù„ØªØ§Ù„ÙŠ â–¶</button>
        </div>
    </div>

    <div id="hadith-section" class="section-card" style="border-right: 10px solid var(--gold);">
        <h3>âœ¨ Ø²Ø§Ø¯ Ø§Ù„ÙŠÙˆÙ…</h3>
        <p id="daily-hadith" style="text-align: center; font-style: italic;"></p>
    </div>

    <div class="leaderboard">
        <h3>ğŸ† ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø©</h3>
        <div id="ranking">
            <div class="rank-item"><span>Ø§Ù„Ø£Ø¨ Ù…Ø­Ù…Ø¯</span> <span id="score-papa">0</span></div>
            <div class="rank-item"><span>Ø§Ù„Ø£Ù… Ø´ÙŠÙ…Ø§Ø¡</span> <span id="score-mama">0</span></div>
            <div class="rank-item"><span>Ø£Ø­Ù…Ø¯</span> <span id="score-ahmed">0</span></div>
            <div class="rank-item"><span>ÙŠØ§Ø³ÙŠÙ†</span> <span id="score-yassin">0</span></div>
        </div>
    </div>

    <div class="section-card">
        <div class="section-title">ğŸ•‹ Ø§Ù„ÙØ±ÙˆØ¶ Ø§Ù„Ø®Ù…Ø³Ø©</div>
        <div class="habit-row"><span>Ø§Ù„ÙØ¬Ø± <small>(10Ù†)</small></span> <input type="checkbox" onchange="addPoint('fajr', 10)"></div>
        <div class="habit-row"><span>Ø§Ù„Ø¸Ù‡Ø± <small>(10Ù†)</small></span> <input type="checkbox" onchange="addPoint('dhuhr', 10)"></div>
        <div class="habit-row"><span>Ø§Ù„Ø¹ØµØ± <small>(10Ù†)</small></span> <input type="checkbox" onchange="addPoint('asr', 10)"></div>
        <div class="habit-row"><span>Ø§Ù„Ù…ØºØ±Ø¨ <small>(10Ù†)</small></span> <input type="checkbox" onchange="addPoint('maghrib', 10)"></div>
        <div class="habit-row"><span>Ø§Ù„Ø¹Ø´Ø§Ø¡ <small>(10Ù†)</small></span> <input type="checkbox" onchange="addPoint('isha', 10)"></div>
    </div>

    <div class="section-card">
        <div class="section-title">âœ¨ Ø§Ù„Ø³Ù†Ù† ÙˆØ§Ù„Ø±ÙˆØ§ØªØ¨ (12 Ø±ÙƒØ¹Ø©)</div>
        <div class="habit-row"><span>Ø±ÙƒØ¹ØªÙŠ Ø§Ù„ÙØ¬Ø± Ø§Ù„Ù‚Ø¨Ù„ÙŠØ©</span> <input type="checkbox"></div>
        <div class="habit-row"><span>4 Ø±ÙƒØ¹Ø§Øª Ù‚Ø¨Ù„ Ø§Ù„Ø¸Ù‡Ø± / 2 Ø¨Ø¹Ø¯Ù‡</span> <input type="checkbox"></div>
        <div class="habit-row"><span>Ø±ÙƒØ¹ØªÙŠÙ† Ø¨Ø¹Ø¯ Ø§Ù„Ù…ØºØ±Ø¨</span> <input type="checkbox"></div>
        <div class="habit-row"><span>Ø±ÙƒØ¹ØªÙŠÙ† Ø¨Ø¹Ø¯ Ø§Ù„Ø¹Ø´Ø§Ø¡</span> <input type="checkbox"></div>
        <div class="habit-row" style="color: var(--gold);"><span>ØµÙ„Ø§Ø© Ø§Ù„Ø¶Ø­Ù‰ / Ø§Ù„Ø´ÙØ¹ ÙˆØ§Ù„ÙˆØªØ±</span> <input type="checkbox"></div>
    </div>

    <div class="section-card">
        <div class="section-title">ğŸ“– Ø§Ù„Ø£ÙˆØ±Ø§Ø¯ Ø§Ù„ÙŠÙˆÙ…ÙŠØ© ÙˆØ§Ù„Ø³ÙˆØ±</div>
        <div class="habit-row"><span>Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ù„Ùƒ (Ø§Ù„Ù…Ù†Ø¬ÙŠØ©)</span> <input type="checkbox"></div>
        <div id="friday-only" class="habit-row" style="display:none; color: green; font-weight: bold;">
            <span>Ø³ÙˆØ±Ø© Ø§Ù„ÙƒÙ‡Ù (Ù†ÙˆØ± Ø§Ù„Ø¬Ù…Ø¹Ø©)</span> <input type="checkbox">
        </div>
        <div class="habit-row"><span>Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­ ÙˆØ§Ù„Ù…Ø³Ø§Ø¡</span> <input type="checkbox"></div>
    </div>

    <div class="ext-links">
        <a href="https://alazkar.today/" target="_blank" class="link-btn">ğŸ“– Ø§Ù„Ø£Ø°ÙƒØ§Ø± (Ø±Ø§Ø¨Ø· Ø®Ø§Ø±Ø¬ÙŠ)</a>
        <a href="https://quran.com" target="_blank" class="link-btn">ğŸ“œ Ø§Ù„Ù…ØµØ­Ù Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</a>
    </div>

    <div class="section-card">
        <div class="section-title">ğŸ’¬ Ù…Ù„ØªÙ‚Ù‰ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø© Ø§Ù„ÙŠÙˆÙ…ÙŠ</div>
        <div id="chat-msgs" class="chat-box"></div>
        <div style="display: flex; gap: 5px;">
            <input type="text" id="msg-input" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„Ø©..." style="flex:1;">
            <button onclick="send()" class="nav-btn">Ø¥Ø±Ø³Ø§Ù„</button>
        </div>
    </div>
</div>

<script>
    let viewDate = new Date();

    function updateAll() {
        // Ø§Ù„ØªÙˆØ§Ø±ÙŠØ®
        document.getElementById('g-date').innerText = viewDate.toLocaleDateString('ar-EG');
        document.getElementById('h-date').innerText = new Intl.DateTimeFormat('ar-SA-u-ca-islamic-uma', {day:'numeric', month:'long', year:'numeric'}).format(viewDate);
        document.getElementById('current-view-date').innerText = viewDate.toDateString() === new Date().toDateString() ? "Ø§Ù„ÙŠÙˆÙ…" : viewDate.toLocaleDateString('ar-EG');
        
        // Ø¥Ø¸Ù‡Ø§Ø± Ø³ÙˆØ±Ø© Ø§Ù„ÙƒÙ‡Ù ÙŠÙˆÙ… Ø§Ù„Ø¬Ù…Ø¹Ø© ÙÙ‚Ø·
        document.getElementById('friday-only').style.display = (viewDate.getDay() === 5) ? "flex" : "none";

        // Ø§Ù„Ø­Ø¯ÙŠØ«
        const hadiths = ["Â«Ù…Ù† Ù‚Ø±Ø£ Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ù„Ùƒ ÙƒÙ„ Ù„ÙŠÙ„Ø© Ù…Ù†Ø¹Ù‡ Ø§Ù„Ù„Ù‡ Ø¨Ù‡Ø§ Ù…Ù† Ø¹Ø°Ø§Ø¨ Ø§Ù„Ù‚Ø¨Ø±Â»", "Â«Ø§Ù„Ø¯Ø¹Ø§Ø¡ Ù‡Ùˆ Ø§Ù„Ø¹Ø¨Ø§Ø¯Ø©Â»", "Â«Ø®ÙŠØ±ÙƒÙ… Ù…Ù† ØªØ¹Ù„Ù… Ø§Ù„Ù‚Ø±Ø¢Ù† ÙˆØ¹Ù„Ù…Ù‡Â»"];
        document.getElementById('daily-hadith').innerText = hadiths[viewDate.getDate() % hadiths.length];

        // ØªØµÙÙŠØ± Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© ÙŠÙˆÙ…ÙŠØ§Ù‹
        manageChat();
    }

    function changeDate(n) {
        viewDate.setDate(viewDate.getDate() + n);
        updateAll();
        // Ù‡Ù†Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø±Ø¨Ø· ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø®Ø§Øµ Ø¨ÙƒÙ„ ÙŠÙˆÙ… Ù…Ù† LocalStorage
    }

    function manageChat() {
        const todayKey = new Date().toDateString();
        if (localStorage.getItem('last_chat_reset') !== todayKey) {
            localStorage.setItem('family_chat', JSON.stringify([]));
            localStorage.setItem('last_chat_reset', todayKey);
        }
        renderChat();
    }

    function send() {
        const inp = document.getElementById('msg-input');
        if(!inp.value) return;
        let msgs = JSON.parse(localStorage.getItem('family_chat') || "[]");
        msgs.push({ t: inp.value, d: new Date().toLocaleTimeString('ar-EG') });
        localStorage.setItem('family_chat', JSON.stringify(msgs));
        inp.value = ""; renderChat();
    }

    function renderChat() {
        const box = document.getElementById('chat-msgs');
        let msgs = JSON.parse(localStorage.getItem('family_chat') || "[]");
        box.innerHTML = msgs.map(m => `<div><small>${m.d}</small> ${m.t}</div>`).join('');
        box.scrollTop = box.scrollHeight;
    }

    window.onload = updateAll;
</script>
</body>
</html>
