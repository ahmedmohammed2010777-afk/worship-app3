<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø­Ø±Ø§Ø¨ Ø¹Ø§Ø¦Ù„ØªÙŠ 2026 - Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø²Ø®Ø±ÙÙŠ Ø§Ù„Ø´Ø§Ù…Ù„</title>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Reem+Kufi:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #1a4d2e; /* Ø£Ø®Ø¶Ø± Ø¥Ø³Ù„Ø§Ù…ÙŠ */
            --gold: #c5a059;    /* Ø°Ù‡Ø¨ÙŠ Ù…Ø·ÙÙŠ */
            --beige: #f9f6f0;   /* Ø®Ù„ÙÙŠØ© ÙˆØ±Ù‚ÙŠØ© */
            --dark: #2c3e50;
        }

        body {
            font-family: 'Amiri', serif;
            background-color: var(--beige);
            background-image: url('https://www.transparenttextures.com/patterns/islamic-art.png');
            color: var(--dark);
            margin: 0;
            padding: 10px;
        }

        .main-container {
            max-width: 650px;
            margin: 20px auto;
            background: rgba(255, 255, 255, 0.97);
            border: 3px double var(--gold);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            position: relative;
        }

        /* Ø§Ù„Ø²Ø®Ø§Ø±Ù Ø§Ù„Ø¹Ù„ÙˆÙŠØ© */
        .header-decoration {
            text-align: center;
            color: var(--gold);
            font-size: 1.5rem;
            margin-bottom: -10px;
        }

        h1 {
            font-family: 'Reem Kufi', sans-serif;
            color: var(--primary);
            text-align: center;
            border-bottom: 2px solid var(--gold);
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        /* Ø´Ø±ÙŠØ· Ø§Ù„ØªØ§Ø±ÙŠØ® */
        .date-section {
            display: flex;
            justify-content: space-between;
            background: var(--primary);
            color: white;
            padding: 12px;
            border-radius: 12px;
            margin-bottom: 20px;
            border: 1px solid var(--gold);
        }
        .date-box { text-align: center; flex: 1; }
        .date-box:first-child { border-left: 1px solid rgba(197, 160, 89, 0.4); }
        .small-label { display: block; font-size: 0.75rem; color: var(--gold); }

        /* Ø§Ù„Ø­Ø¯ÙŠØ« Ø§Ù„ÙŠÙˆÙ…ÙŠ */
        .hadith-box {
            background: #fff;
            border: 1px solid var(--gold);
            border-right: 8px solid var(--primary);
            padding: 15px;
            margin-bottom: 25px;
            border-radius: 8px;
            position: relative;
        }
        .hadith-box h3 { margin-top: 0; color: var(--primary); font-family: 'Reem Kufi', sans-serif; }

        /* Ø§Ù„Ø£Ù‚Ø³Ø§Ù… ÙˆØ§Ù„Ø·Ø§Ø¹Ø§Øª */
        .section-card {
            background: white;
            border: 1px solid #eee;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.02);
        }
        .section-title {
            color: var(--primary);
            font-weight: bold;
            border-bottom: 1px solid var(--gold);
            margin-bottom: 15px;
            padding-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .habit-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px dashed #eee;
        }
        .habit-item:last-child { border-bottom: none; }

        /* Ù„ÙˆØ­Ø© Ø§Ù„ØªØ±ØªÙŠØ¨ */
        .leaderboard {
            background: var(--primary);
            color: white;
            padding: 15px;
            border-radius: 12px;
            margin-bottom: 20px;
        }
        .user-rank {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        /* Ø§Ù„Ø±ÙˆØ§Ø¨Ø· */
        .links-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
        }
        .ext-link {
            background: white;
            color: var(--primary);
            text-decoration: none;
            padding: 12px;
            text-align: center;
            border: 1px solid var(--primary);
            border-radius: 10px;
            font-weight: bold;
            transition: 0.3s;
        }
        .ext-link:hover { background: var(--gold); color: white; border-color: var(--gold); }

        /* Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© */
        .chat-section {
            background: #fdfdfd;
            border: 2px solid var(--gold);
            border-radius: 15px;
            padding: 15px;
        }
        #chat-messages {
            height: 180px;
            overflow-y: auto;
            border-bottom: 1px solid #eee;
            margin-bottom: 10px;
            font-size: 0.9rem;
        }
        .chat-input-area { display: flex; gap: 8px; }
        input[type="text"] {
            flex: 1; padding: 10px; border: 1px solid #ccc; border-radius: 8px;
            font-family: 'Amiri', serif;
        }
        .btn-send {
            background: var(--primary); color: white; border: none;
            padding: 0 20px; border-radius: 8px; cursor: pointer;
        }

        input[type="checkbox"] { transform: scale(1.3); cursor: pointer; }
    </style>
</head>
<body>

<div class="main-container">
    <div class="header-decoration">âœ¾ âš– âœ¾</div>
    <h1>Ù…Ø­Ø±Ø§Ø¨ Ø¹Ø§Ø¦Ù„ØªÙŠ</h1>

    <div class="date-section">
        <div class="date-box">
            <span class="small-label">Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ</span>
            <span id="hijri-date">...</span>
        </div>
        <div class="date-box">
            <span class="small-label">Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ</span>
            <span id="gregorian-date">...</span>
        </div>
    </div>

    <div class="hadith-box">
        <h3>âœ¨ Ø²Ø§Ø¯ Ø§Ù„ÙŠÙˆÙ…</h3>
        <p id="hadith-text">Â«Ø§Ù„Ø¯Ø¹Ø§Ø¡ Ù‡Ùˆ Ø§Ù„Ø¹Ø¨Ø§Ø¯Ø©Â»</p>
    </div>

    <div class="section-card" style="background: #1a4d2e; color: white;">
        <h3 style="color: var(--gold); text-align: center; margin-top: 0;">ğŸ† Ù„ÙˆØ­Ø© ØªØ±ØªÙŠØ¨ Ø§Ù„Ù…ØªÙ†Ø§ÙØ³ÙŠÙ†</h3>
        <div id="leaderboard-list">
            </div>
    </div>

    <div class="section-card">
        <div class="section-title">ğŸ•‹ Ø§Ù„ÙØ±ÙˆØ¶ ÙˆØ§Ù„Ø±ÙˆØ§ØªØ¨</div>
        <div class="habit-item"><span>ØµÙ„Ø§Ø© Ø§Ù„ÙØ¬Ø±</span> <input type="checkbox" onchange="updateProgress('fajr')"></div>
        <div class="habit-item"><span>ØµÙ„Ø§Ø© Ø§Ù„Ø¸Ù‡Ø±</span> <input type="checkbox" onchange="updateProgress('dhuhr')"></div>
        <div class="habit-item"><span>ØµÙ„Ø§Ø© Ø§Ù„Ø¹ØµØ±</span> <input type="checkbox" onchange="updateProgress('asr')"></div>
        <div class="habit-item"><span>ØµÙ„Ø§Ø© Ø§Ù„Ù…ØºØ±Ø¨</span> <input type="checkbox" onchange="updateProgress('maghrib')"></div>
        <div class="habit-item"><span>ØµÙ„Ø§Ø© Ø§Ù„Ø¹Ø´Ø§Ø¡</span> <input type="checkbox" onchange="updateProgress('isha')"></div>
    </div>

    <div class="section-card">
        <div class="section-title">âœ¨ Ø§Ù„Ø³Ù†Ù† ÙˆØ§Ù„Ø£ÙˆØ±Ø§Ø¯</div>
        <div class="habit-item"><span>Ø§Ù„Ø³Ù†Ù† Ø§Ù„Ø±ÙˆØ§ØªØ¨ (12 Ø±ÙƒØ¹Ø©)</span> <input type="checkbox" onchange="updateProgress('sunan')"></div>
        <div class="habit-item"><span>Ø§Ù„ÙˆØ±Ø¯ Ø§Ù„Ù‚Ø±Ø¢Ù†ÙŠ</span> <input type="checkbox" onchange="updateProgress('quran')"></div>
        <div class="habit-item"><span>Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­ ÙˆØ§Ù„Ù…Ø³Ø§Ø¡</span> <input type="checkbox" onchange="updateProgress('azkar')"></div>
    </div>

    <div class="links-grid">
        <a href="https://alazkar.today/" target="_blank" class="ext-link">ğŸ“– ÙØªØ­ Ø§Ù„Ø£Ø°ÙƒØ§Ø± (Ø±Ø§Ø¨Ø· Ø®Ø§Ø±Ø¬ÙŠ)</a>
        <a href="https://quran.com" target="_blank" class="ext-link">ğŸ“œ Ø§Ù„Ù…ØµØ­Ù Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</a>
    </div>

    <div class="chat-section">
        <div class="section-title">ğŸ’¬ Ù…Ù„ØªÙ‚Ù‰ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø© (ÙŠØªØ¬Ø¯Ø¯ ÙŠÙˆÙ…ÙŠØ§Ù‹)</div>
        <div id="chat-messages"></div>
        <div class="chat-input-area">
            <input type="text" id="user-msg" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„Ø© ØªØ´Ø¬ÙŠØ¹ÙŠØ©...">
            <button class="btn-send" onclick="sendChat()">Ø¥Ø±Ø³Ø§Ù„</button>
        </div>
    </div>
</div>

<script>
    // 1. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªÙˆØ§Ø±ÙŠØ®
    function initDates() {
        const now = new Date();
        document.getElementById('gregorian-date').innerText = now.toLocaleDateString('ar-EG', {day:'numeric', month:'long', year:'numeric'});
        document.getElementById('hijri-date').innerText = new Intl.DateTimeFormat('ar-SA-u-ca-islamic-uma', {day:'numeric', month:'long', year:'numeric'}).format(now);
    }

    // 2. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø¯ÙŠØ« Ø§Ù„Ù…ØªØºÙŠØ±
    const hadiths = [
        "Â«Ø£Ø­Ø¨ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø¥Ù„Ù‰ Ø§Ù„Ù„Ù‡ Ø£Ø¯ÙˆÙ…Ù‡Ø§ ÙˆØ¥Ù† Ù‚Ù„Â»",
        "Â«Ù…Ù† Ø³Ù„Ùƒ Ø·Ø±ÙŠÙ‚Ø§Ù‹ ÙŠÙ„ØªÙ…Ø³ ÙÙŠÙ‡ Ø¹Ù„Ù…Ø§Ù‹ Ø³Ù‡Ù„ Ø§Ù„Ù„Ù‡ Ù„Ù‡ Ø¨Ù‡ Ø·Ø±ÙŠÙ‚Ø§Ù‹ Ø¥Ù„Ù‰ Ø§Ù„Ø¬Ù†Ø©Â»",
        "Â«Ø¨Ù„ØºÙˆØ§ Ø¹Ù†ÙŠ ÙˆÙ„Ùˆ Ø¢ÙŠØ©Â»",
        "Â«Ø®ÙŠØ±ÙƒÙ… Ù…Ù† ØªØ¹Ù„Ù… Ø§Ù„Ù‚Ø±Ø¢Ù† ÙˆØ¹Ù„Ù…Ù‡Â»"
    ];
    function loadDailyHadith() {
        const day = new Date().getDate();
        document.getElementById('hadith-text').innerText = hadiths[day % hadiths.length];
    }

    // 3. Ù†Ø¸Ø§Ù… Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© Ù…Ø¹ Ø§Ù„ØªØµÙÙŠØ± Ø§Ù„ÙŠÙˆÙ…ÙŠ
    function manageChat() {
        const today = new Date().toDateString();
        if (localStorage.getItem('chat_reset_date') !== today) {
            localStorage.setItem('chat_data', JSON.stringify([]));
            localStorage.setItem('chat_reset_date', today);
        }
        renderChat();
    }

    function sendChat() {
        const input = document.getElementById('user-msg');
        if (!input.value) return;
        let msgs = JSON.parse(localStorage.getItem('chat_data') || "[]");
        msgs.push({ text: input.value, time: new Date().toLocaleTimeString('ar-EG') });
        localStorage.setItem('chat_data', JSON.stringify(msgs));
        input.value = "";
        renderChat();
    }

    function renderChat() {
        const box = document.getElementById('chat-messages');
        let msgs = JSON.parse(localStorage.getItem('chat_data') || "[]");
        box.innerHTML = msgs.map(m => `<div><strong>${m.time}:</strong> ${m.text}</div>`).join('');
        box.scrollTop = box.scrollHeight;
    }

    // 4. Ù†Ø¸Ø§Ù… Ø§Ù„Ù†Ù‚Ø§Ø· ÙˆØ§Ù„ØªØ±ØªÙŠØ¨ (Ù„Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©)
    function updateProgress(habitId) {
        // Ù‡Ù†Ø§ ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù†Ù‚Ø§Ø· Ù„ÙƒÙ„ Ù…Ø³ØªØ®Ø¯Ù… (Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù†Ø¸Ø§Ù…Ùƒ Ø§Ù„Ø³Ø§Ø¨Ù‚)
        // Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯ ÙŠØ­ÙØ¸ Ø­Ø§Ù„Ø© Ø§Ù„ÙŠÙˆÙ…
        localStorage.setItem(habitId + "_" + new Date().toDateString(), "done");
        renderLeaderboard();
    }

    function renderLeaderboard() {
        const list = document.getElementById('leaderboard-list');
        // Ù…Ø«Ø§Ù„ Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØªÙ†Ø§ÙØ³ÙŠÙ† (ÙŠØªÙ… Ø³Ø­Ø¨Ù‡Ø§ Ø¹Ø§Ø¯Ø© Ù…Ù† LocalStorage)
        const competitors = [
            {name: "Ø£Ø­Ù…Ø¯", points: 120},
            {name: "ÙØ§Ø·Ù…Ø©", points: 145},
            {name: "Ù…Ø­Ù…Ø¯", points: 90}
        ].sort((a, b) => b.points - a.points);

        list.innerHTML = competitors.map((u, i) => `
            <div class="user-rank">
                <span>${i+1}. ${u.name}</span>
                <span>${u.points} Ù†Ù‚Ø·Ø©</span>
            </div>
        `).join('');
    }

    window.onload = () => {
        initDates();
        loadDailyHadith();
        manageChat();
        renderLeaderboard();
    };
</script>

</body>
</html>
