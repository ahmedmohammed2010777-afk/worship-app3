<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù…Ø­Ø±Ø§Ø¨ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø© - Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…ÙˆØ³ÙˆØ¹ÙŠØ© Ø§Ù„Ø´Ø§Ù…Ù„Ø©</title>

<script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<script src="https://cdn.tailwindcss.com"></script>

<style>
@import url('https://fonts.googleapis.com/css2?family=Changa:wght@400;700;800&family=Amiri:wght@400;700&display=swap');

body { font-family: 'Changa', sans-serif; background: #f0f2f5; padding: 10px; color: #1a202c; min-height: 100vh; }
.neu-card { background: white; border-radius: 35px; box-shadow: 20px 20px 60px #d1d9e6, -20px -20px 60px #ffffff; margin-bottom: 25px; padding: 25px; border: 1px solid #e2e8f0; }
.neu-inset { background: #edf2f7; box-shadow: inset 6px 6px 12px #cfd9e0, inset -6px -6px 12px #ffffff; border-radius: 20px; }

.royal-avatar { width: 55px; height: 55px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 800; font-size: 22px; color: white; border: 2px solid #fff; box-shadow: 0 10px 15px rgba(0,0,0,0.1); }
.av-m { background: linear-gradient(135deg, #b8860b, #ffd700); }
.av-s { background: linear-gradient(135deg, #db2777, #fbcfe8); }
.av-a { background: linear-gradient(135deg, #1e3a8a, #3b82f6); }
.av-y { background: linear-gradient(135deg, #059669, #34d399); }

/* Ù†Ø§ÙØ°Ø© Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„ÙƒØ¨Ø±Ù‰ */
.reader-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 9999; display: flex; flex-direction: column; }
.reader-header { background: #1a202c; color: white; padding: 20px; display: flex; justify-content: space-between; align-items: center; }
.reader-body { flex: 1; overflow-y: auto; background: #fffcf5; padding: 30px; }
.quran-container { font-family: 'Amiri', serif; font-size: 1.8rem; line-height: 2.8; text-align: center; max-width: 800px; margin: 0 auto; color: #2d3748; }
.zekr-card { background: white; border: 2px solid #e2e8f0; border-radius: 20px; padding: 20px; margin-bottom: 20px; text-align: center; }
.repeat-btn { background: #3182ce; color: white; padding: 5px 15px; border-radius: 10px; font-size: 0.9rem; margin-top: 10px; display: inline-block; }
</style>
</head>

<body>
<div id="root"></div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, doc, setDoc, onSnapshot, arrayUnion } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyDba3kZK5ibQEIRRjVIHL7JIOHixX_7rVs",
  authDomain: "ebada-656e1.firebaseapp.com",
  projectId: "ebada-656e1",
  storageBucket: "ebada-656e1.firebasestorage.app",
  messagingSenderId: "705608653939",
  appId: "1:705608653939:web:5ab3609a6f7ccc8675de06"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
window.docRef = doc(db, "worship", "family");
window.db = db;
window.setDoc = setDoc;
window.onSnapshot = onSnapshot;
window.arrayUnion = arrayUnion;
window.docFunc = doc;
</script>

<script type="text/babel">
const { useState, useEffect, useRef } = React;

const FULL_LIBRARY = {
  "Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­": [
    { t: "Ø£ÙØµÙ’Ø¨ÙØ­Ù’Ù†ÙØ§ ÙˆÙØ£ÙØµÙ’Ø¨ÙØ­Ù Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ Ù„ÙÙ„Ù‘ÙÙ‡ÙØŒ ÙˆÙØ§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù Ù„ÙÙ„Ù‘ÙÙ‡ÙØŒ Ù„Ø§Ù Ø¥ÙÙ„ÙÙ‡Ù Ø¥Ù„Ø§Ù‘Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù ÙˆÙØ­Ù’Ø¯ÙÙ‡Ù Ù„Ø§Ù Ø´ÙØ±ÙÙŠÙƒÙ Ù„ÙÙ‡ÙØŒ Ù„ÙÙ‡Ù Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ ÙˆÙÙ„ÙÙ‡Ù Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù ÙˆÙÙ‡ÙÙˆÙ Ø¹ÙÙ„ÙÙ‰ ÙƒÙÙ„Ù‘Ù Ø´ÙÙŠÙ’Ø¡Ù Ù‚ÙØ¯ÙÙŠØ±ÙŒ.", r: "1" },
    { t: "Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ù„ÙØ§ Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„Ù‘ÙØ§ Ù‡ÙÙˆÙ Ø§Ù„Ù’Ø­ÙÙŠÙ‘Ù Ø§Ù„Ù’Ù‚ÙÙŠÙ‘ÙÙˆÙ…Ù Ù„ÙØ§ ØªÙØ£Ù’Ø®ÙØ°ÙÙ‡Ù Ø³ÙÙ†ÙØ©ÙŒ ÙˆÙÙ„ÙØ§ Ù†ÙÙˆÙ’Ù…ÙŒ Ù„ÙÙ‡Ù Ù…ÙØ§ ÙÙÙŠ Ø§Ù„Ø³Ù‘ÙÙ…ÙØ§ÙˆÙØ§ØªÙ ÙˆÙÙ…ÙØ§ ÙÙÙŠ Ø§Ù„Ù’Ø£ÙØ±Ù’Ø¶Ù Ù…ÙÙ†Ù’ Ø°ÙØ§ Ø§Ù„Ù‘ÙØ°ÙÙŠ ÙŠÙØ´Ù’ÙÙØ¹Ù Ø¹ÙÙ†Ù’Ø¯ÙÙ‡Ù Ø¥ÙÙ„Ù‘ÙØ§ Ø¨ÙØ¥ÙØ°Ù’Ù†ÙÙ‡Ù ÙŠÙØ¹Ù’Ù„ÙÙ…Ù Ù…ÙØ§ Ø¨ÙÙŠÙ’Ù†Ù Ø£ÙÙŠÙ’Ø¯ÙÙŠÙ‡ÙÙ…Ù’ ÙˆÙÙ…ÙØ§ Ø®ÙÙ„Ù’ÙÙÙ‡ÙÙ…Ù’ ÙˆÙÙ„ÙØ§ ÙŠÙØ­ÙÙŠØ·ÙÙˆÙ†Ù Ø¨ÙØ´ÙÙŠÙ’Ø¡Ù Ù…ÙÙ†Ù’ Ø¹ÙÙ„Ù’Ù…ÙÙ‡Ù Ø¥ÙÙ„Ù‘ÙØ§ Ø¨ÙÙ…ÙØ§ Ø´ÙØ§Ø¡Ù ÙˆÙØ³ÙØ¹Ù ÙƒÙØ±Ù’Ø³ÙÙŠÙ‘ÙÙ‡Ù Ø§Ù„Ø³Ù‘ÙÙ…ÙØ§ÙˆÙØ§ØªÙ ÙˆÙØ§Ù„Ù’Ø£ÙØ±Ù’Ø¶Ù ÙˆÙÙ„ÙØ§ ÙŠÙØ¦ÙÙˆØ¯ÙÙ‡Ù Ø­ÙÙÙ’Ø¸ÙÙ‡ÙÙ…ÙØ§ ÙˆÙÙ‡ÙÙˆÙ Ø§Ù„Ù’Ø¹ÙÙ„ÙÙŠÙ‘Ù Ø§Ù„Ù’Ø¹ÙØ¸ÙÙŠÙ…Ù.", r: "1" },
    { t: "Ù‚ÙÙ„Ù’ Ù‡ÙÙˆÙ Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ø£ÙØ­ÙØ¯ÙŒ... (Ø³ÙˆØ±Ø© Ø§Ù„Ø¥Ø®Ù„Ø§Øµ)", r: "3" },
    { t: "Ù‚ÙÙ„Ù’ Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙØ±ÙØ¨Ù‘Ù Ø§Ù„Ù’ÙÙÙ„ÙÙ‚Ù... (Ø³ÙˆØ±Ø© Ø§Ù„ÙÙ„Ù‚)", r: "3" },
    { t: "Ù‚ÙÙ„Ù’ Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙØ±ÙØ¨Ù‘Ù Ø§Ù„Ù†Ù‘ÙØ§Ø³Ù... (Ø³ÙˆØ±Ø© Ø§Ù„Ù†Ø§Ø³)", r: "3" },
    { t: "Ø§Ù„Ù„Ù‘ÙÙ‡ÙÙ…Ù‘Ù Ø£ÙÙ†Ù’ØªÙ Ø±ÙØ¨Ù‘ÙÙŠ Ù„ÙØ§ Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„Ù‘ÙØ§ Ø£ÙÙ†Ù’ØªÙØŒ Ø®ÙÙ„ÙÙ‚Ù’ØªÙÙ†ÙÙŠ ÙˆÙØ£ÙÙ†ÙØ§ Ø¹ÙØ¨Ù’Ø¯ÙÙƒÙØŒ ÙˆÙØ£ÙÙ†ÙØ§ Ø¹ÙÙ„ÙÙ‰ Ø¹ÙÙ‡Ù’Ø¯ÙÙƒÙ ÙˆÙÙˆÙØ¹Ù’Ø¯ÙÙƒÙ Ù…ÙØ§ Ø§Ø³ØªÙØ·ÙØ¹Ù’ØªÙØŒ Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙ Ù…ÙÙ†Ù’ Ø´ÙØ±Ù‘Ù Ù…ÙØ§ ØµÙÙ†ÙØ¹Ù’ØªÙØŒ Ø£ÙØ¨ÙÙˆØ¡Ù Ù„ÙÙƒÙ Ø¨ÙÙ†ÙØ¹Ù’Ù…ÙØªÙÙƒÙ Ø¹ÙÙ„ÙÙŠÙ‘ÙØŒ ÙˆÙØ£ÙØ¨ÙÙˆØ¡Ù Ù„ÙÙƒÙ Ø¨ÙØ°ÙÙ†Ù’Ø¨ÙÙŠ ÙÙØ§ØºÙ’ÙÙØ±Ù’ Ù„ÙÙŠ ÙÙØ¥ÙÙ†Ù‘ÙÙ‡Ù Ù„ÙØ§ ÙŠÙØºÙ’ÙÙØ±Ù Ø§Ù„Ø°Ù‘ÙÙ†ÙÙˆØ¨Ù Ø¥ÙÙ„Ù‘ÙØ§ Ø£ÙÙ†Ù’ØªÙ.", r: "1" },
    { t: "Ø§Ù„Ù„Ù‘ÙÙ‡ÙÙ…Ù‘Ù Ø¹Ø§ÙÙÙ†ÙŠ ÙÙŠ Ø¨ÙØ¯ÙÙ†ÙŠØŒ Ø§Ù„Ù„Ù‘ÙÙ‡ÙÙ…Ù‘Ù Ø¹Ø§ÙÙÙ†ÙŠ ÙÙŠ Ø³ÙÙ…Ù’Ø¹ÙŠØŒ Ø§Ù„Ù„Ù‘ÙÙ‡ÙÙ…Ù‘Ù Ø¹Ø§ÙÙÙ†ÙŠ ÙÙŠ Ø¨ÙØµÙØ±ÙŠØŒ Ù„Ø§ Ø¥Ù„Ù‡Ù Ø¥Ù„Ù‘ÙØ§ Ø£Ù†ØªÙ.", r: "3" },
    { t: "Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ø§Ù„Ù‘ÙØ°ÙÙŠ Ù„ÙØ§ ÙŠÙØ¶ÙØ±Ù‘Ù Ù…ÙØ¹Ù Ø§Ø³Ù’Ù…ÙÙ‡Ù Ø´ÙÙŠÙ’Ø¡ÙŒ ÙÙÙŠ Ø§Ù„Ù’Ø£ÙØ±Ù’Ø¶Ù ÙˆÙÙ„ÙØ§ ÙÙÙŠ Ø§Ù„Ø³Ù‘ÙÙ…ÙØ§Ø¡Ù ÙˆÙÙ‡ÙÙˆÙ Ø§Ù„Ø³Ù‘ÙÙ…ÙÙŠØ¹Ù Ø§Ù„Ù’Ø¹ÙÙ„ÙÙŠÙ…Ù.", r: "3" }
  ],
  "Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ù„Ùƒ": [
    { t: "ØªÙØ¨ÙØ§Ø±ÙÙƒÙ Ø§Ù„Ù‘ÙØ°ÙÙŠ Ø¨ÙÙŠÙØ¯ÙÙ‡Ù Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ ÙˆÙÙ‡ÙÙˆÙ Ø¹ÙÙ„ÙÙ‰ ÙƒÙÙ„Ù‘Ù Ø´ÙÙŠÙ’Ø¡Ù Ù‚ÙØ¯ÙÙŠØ±ÙŒ (1) Ø§Ù„Ù‘ÙØ°ÙÙŠ Ø®ÙÙ„ÙÙ‚Ù Ø§Ù„Ù’Ù…ÙÙˆÙ’ØªÙ ÙˆÙØ§Ù„Ù’Ø­ÙÙŠÙØ§Ø©Ù Ù„ÙÙŠÙØ¨Ù’Ù„ÙÙˆÙÙƒÙÙ…Ù’ Ø£ÙÙŠÙ‘ÙÙƒÙÙ…Ù’ Ø£ÙØ­Ù’Ø³ÙÙ†Ù Ø¹ÙÙ…ÙÙ„Ù‹Ø§ ÙˆÙÙ‡ÙÙˆÙ Ø§Ù„Ù’Ø¹ÙØ²ÙÙŠØ²Ù Ø§Ù„Ù’ØºÙÙÙÙˆØ±Ù (2) Ø§Ù„Ù‘ÙØ°ÙÙŠ Ø®ÙÙ„ÙÙ‚Ù Ø³ÙØ¨Ù’Ø¹Ù Ø³ÙÙ…ÙØ§ÙˆÙØ§ØªÙ Ø·ÙØ¨ÙØ§Ù‚Ù‹Ø§ Ù…Ù‘ÙØ§ ØªÙØ±ÙÙ‰ ÙÙÙŠ Ø®ÙÙ„Ù’Ù‚Ù Ø§Ù„Ø±Ù‘ÙØ­Ù’Ù…ÙÙ†Ù Ù…ÙÙ† ØªÙÙÙØ§ÙˆÙØªÙ ÙÙØ§Ø±Ù’Ø¬ÙØ¹Ù Ø§Ù„Ù’Ø¨ÙØµÙØ±Ù Ù‡ÙÙ„Ù’ ØªÙØ±ÙÙ‰ Ù…ÙÙ† ÙÙØ·ÙÙˆØ±Ù (3) Ø«ÙÙ…Ù‘Ù Ø§Ø±Ù’Ø¬ÙØ¹Ù Ø§Ù„Ù’Ø¨ÙØµÙØ±Ù ÙƒÙØ±Ù‘ÙØªÙÙŠÙ’Ù†Ù ÙŠÙÙ†Ù‚ÙÙ„ÙØ¨Ù’ Ø¥ÙÙ„ÙÙŠÙ’ÙƒÙ Ø§Ù„Ù’Ø¨ÙØµÙØ±Ù Ø®ÙØ§Ø³ÙØ¦Ù‹Ø§ ÙˆÙÙ‡ÙÙˆÙ Ø­ÙØ³ÙÙŠØ±ÙŒ (4) ÙˆÙÙ„ÙÙ‚ÙØ¯Ù’ Ø²ÙÙŠÙ‘ÙÙ†Ù‘ÙØ§ Ø§Ù„Ø³Ù‘ÙÙ…ÙØ§Ø¡ Ø§Ù„Ø¯Ù‘ÙÙ†Ù’ÙŠÙØ§ Ø¨ÙÙ…ÙØµÙØ§Ø¨ÙÙŠØ­Ù ÙˆÙØ¬ÙØ¹ÙÙ„Ù’Ù†ÙØ§Ù‡ÙØ§ Ø±ÙØ¬ÙÙˆÙ…Ù‹Ø§ Ù„Ù‘ÙÙ„Ø´Ù‘ÙÙŠÙØ§Ø·ÙÙŠÙ†Ù ÙˆÙØ£ÙØ¹Ù’ØªÙØ¯Ù’Ù†ÙØ§ Ù„ÙÙ‡ÙÙ…Ù’ Ø¹ÙØ°ÙØ§Ø¨Ù Ø§Ù„Ø³Ù‘ÙØ¹ÙÙŠØ±Ù (5) ÙˆÙÙ„ÙÙ„Ù‘ÙØ°ÙÙŠÙ†Ù ÙƒÙÙÙØ±ÙÙˆØ§ Ø¨ÙØ±ÙØ¨Ù‘ÙÙ‡ÙÙ…Ù’ Ø¹ÙØ°ÙØ§Ø¨Ù Ø¬ÙÙ‡ÙÙ†Ù‘ÙÙ…Ù ÙˆÙØ¨ÙØ¦Ù’Ø³Ù Ø§Ù„Ù’Ù…ÙØµÙÙŠØ±Ù (6) Ø¥ÙØ°ÙØ§ Ø£ÙÙ„Ù’Ù‚ÙÙˆØ§ ÙÙÙŠÙ‡ÙØ§ Ø³ÙÙ…ÙØ¹ÙÙˆØ§ Ù„ÙÙ‡ÙØ§ Ø´ÙÙ‡ÙÙŠÙ‚Ù‹Ø§ ÙˆÙÙ‡ÙÙŠÙ ØªÙÙÙÙˆØ±Ù (7) ØªÙÙƒÙØ§Ø¯Ù ØªÙÙ…ÙÙŠÙ‘ÙØ²Ù Ù…ÙÙ†Ù Ø§Ù„Ù’ØºÙÙŠÙ’Ø¸Ù ÙƒÙÙ„Ù‘ÙÙ…ÙØ§ Ø£ÙÙ„Ù’Ù‚ÙÙŠÙ ÙÙÙŠÙ‡ÙØ§ ÙÙÙˆÙ’Ø¬ÙŒ Ø³ÙØ£ÙÙ„ÙÙ‡ÙÙ…Ù’ Ø®ÙØ²ÙÙ†ÙØªÙÙ‡ÙØ§ Ø£ÙÙ„ÙÙ…Ù’ ÙŠÙØ£Ù’ØªÙÙƒÙÙ…Ù’ Ù†ÙØ°ÙÙŠØ±ÙŒ (8) Ù‚ÙØ§Ù„ÙÙˆØ§ Ø¨ÙÙ„ÙÙ‰ Ù‚ÙØ¯Ù’ Ø¬ÙØ§Ø¡ÙÙ†ÙØ§ Ù†ÙØ°ÙÙŠØ±ÙŒ ÙÙÙƒÙØ°Ù‘ÙØ¨Ù’Ù†ÙØ§ ÙˆÙÙ‚ÙÙ„Ù’Ù†ÙØ§ Ù…ÙØ§ Ù†ÙØ²Ù‘ÙÙ„Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ù…ÙÙ† Ø´ÙÙŠÙ’Ø¡Ù Ø¥ÙÙ†Ù’ Ø£ÙÙ†ØªÙÙ…Ù’ Ø¥ÙÙ„Ø§Ù‘Ù ÙÙŠ Ø¶ÙÙ„Ø§Ù„Ù ÙƒÙØ¨ÙÙŠØ±Ù (9) ÙˆÙÙ‚ÙØ§Ù„ÙÙˆØ§ Ù„ÙÙˆÙ’ ÙƒÙÙ†Ù‘ÙØ§ Ù†ÙØ³Ù’Ù…ÙØ¹Ù Ø£ÙÙˆÙ’ Ù†ÙØ¹Ù’Ù‚ÙÙ„Ù Ù…ÙØ§ ÙƒÙÙ†Ù‘ÙØ§ ÙÙÙŠ Ø£ÙØµÙ’Ø­ÙØ§Ø¨Ù Ø§Ù„Ø³Ù‘ÙØ¹ÙÙŠØ±Ù (10) ÙÙØ§Ø¹Ù’ØªÙØ±ÙÙÙÙˆØ§ Ø¨ÙØ°ÙÙ†Ø¨ÙÙ‡ÙÙ…Ù’ ÙÙØ³ÙØ­Ù’Ù‚Ù‹Ø§ Ù„Ù‘ÙØ£ÙØµÙ’Ø­ÙØ§Ø¨Ù Ø§Ù„Ø³Ù‘ÙØ¹ÙÙŠØ±Ù (11) Ø¥ÙÙ†Ù‘Ù Ø§Ù„Ù‘ÙØ°ÙÙŠÙ†Ù ÙŠÙØ®Ù’Ø´ÙÙˆÙ’Ù†Ù Ø±ÙØ¨Ù‘ÙÙ‡ÙÙ… Ø¨ÙØ§Ù„Ù’ØºÙÙŠÙ’Ø¨Ù Ù„ÙÙ‡ÙÙ… Ù…Ù‘ÙØºÙ’ÙÙØ±ÙØ©ÙŒ ÙˆÙØ£ÙØ¬Ù’Ø±ÙŒ ÙƒÙØ¨ÙÙŠØ±ÙŒ (12) ÙˆÙØ£ÙØ³ÙØ±Ù‘ÙÙˆØ§ Ù‚ÙÙˆÙ’Ù„ÙÙƒÙÙ…Ù’ Ø£ÙÙˆÙ Ø§Ø¬Ù’Ù‡ÙØ±ÙÙˆØ§ Ø¨ÙÙ‡Ù Ø¥ÙÙ†Ù‘ÙÙ‡Ù Ø¹ÙÙ„ÙÙŠÙ…ÙŒ Ø¨ÙØ°ÙØ§ØªÙ Ø§Ù„ØµÙ‘ÙØ¯ÙÙˆØ±Ù (13) Ø£ÙÙ„Ø§ ÙŠÙØ¹Ù’Ù„ÙÙ…Ù Ù…ÙÙ†Ù’ Ø®ÙÙ„ÙÙ‚Ù ÙˆÙÙ‡ÙÙˆÙ Ø§Ù„Ù„Ù‘ÙØ·ÙÙŠÙÙ Ø§Ù„Ù’Ø®ÙØ¨ÙÙŠØ±Ù (14) Ù‡ÙÙˆÙ Ø§Ù„Ù‘ÙØ°ÙÙŠ Ø¬ÙØ¹ÙÙ„Ù Ù„ÙÙƒÙÙ…Ù Ø§Ù„Ø£ÙØ±Ù’Ø¶Ù Ø°ÙÙ„ÙÙˆÙ„Ø§ ÙÙØ§Ù…Ù’Ø´ÙÙˆØ§ ÙÙÙŠ Ù…ÙÙ†ÙØ§ÙƒÙØ¨ÙÙ‡ÙØ§ ÙˆÙÙƒÙÙ„ÙÙˆØ§ Ù…ÙÙ† Ø±Ù‘ÙØ²Ù’Ù‚ÙÙ‡Ù ÙˆÙØ¥ÙÙ„ÙÙŠÙ’Ù‡Ù Ø§Ù„Ù†Ù‘ÙØ´ÙÙˆØ±Ù (15) Ø£ÙØ£ÙÙ…ÙÙ†ØªÙÙ… Ù…Ù‘ÙÙ† ÙÙÙŠ Ø§Ù„Ø³Ù‘ÙÙ…ÙØ§Ø¡ Ø£ÙÙ† ÙŠÙØ®Ù’Ø³ÙÙÙ Ø¨ÙÙƒÙÙ…Ù Ø§Ù„Ø£ÙØ±Ù’Ø¶Ù ÙÙØ¥ÙØ°ÙØ§ Ù‡ÙÙŠÙ ØªÙÙ…ÙÙˆØ±Ù (16) Ø£ÙÙ…Ù’ Ø£ÙÙ…ÙÙ†ØªÙÙ… Ù…Ù‘ÙÙ† ÙÙÙŠ Ø§Ù„Ø³Ù‘ÙÙ…ÙØ§Ø¡ Ø£ÙÙ† ÙŠÙØ±Ù’Ø³ÙÙ„Ù Ø¹ÙÙ„ÙÙŠÙ’ÙƒÙÙ…Ù’ Ø­ÙØ§ØµÙØ¨Ù‹Ø§ ÙÙØ³ÙØªÙØ¹Ù’Ù„ÙÙ…ÙÙˆÙ†Ù ÙƒÙÙŠÙ’ÙÙ Ù†ÙØ°ÙÙŠØ±Ù (17) ÙˆÙÙ„ÙÙ‚ÙØ¯Ù’ ÙƒÙØ°Ù‘ÙØ¨Ù Ø§Ù„Ù‘ÙØ°ÙÙŠÙ†Ù Ù…ÙÙ† Ù‚ÙØ¨Ù’Ù„ÙÙ‡ÙÙ…Ù’ ÙÙÙƒÙÙŠÙ’ÙÙ ÙƒÙØ§Ù†Ù Ù†ÙÙƒÙÙŠØ±Ù (18) Ø£ÙÙˆÙÙ„ÙÙ…Ù’ ÙŠÙØ±ÙÙˆÙ’Ø§ Ø¥ÙÙ„ÙÙ‰ Ø§Ù„Ø·Ù‘ÙÙŠÙ’Ø±Ù ÙÙÙˆÙ’Ù‚ÙÙ‡ÙÙ…Ù’ ØµÙØ§ÙÙ‘ÙØ§ØªÙ ÙˆÙÙŠÙÙ‚Ù’Ø¨ÙØ¶Ù’Ù†Ù Ù…ÙØ§ ÙŠÙÙ…Ù’Ø³ÙÙƒÙÙ‡ÙÙ†Ù‘Ù Ø¥ÙÙ„Ø§Ù‘Ù Ø§Ù„Ø±Ù‘ÙØ­Ù’Ù…ÙÙ†Ù Ø¥ÙÙ†Ù‘ÙÙ‡Ù Ø¨ÙÙƒÙÙ„Ù‘Ù Ø´ÙÙŠÙ’Ø¡Ù Ø¨ÙØµÙÙŠØ±ÙŒ (19) Ø£ÙÙ…Ù‘ÙÙ†Ù’ Ù‡ÙØ°ÙØ§ Ø§Ù„Ù‘ÙØ°ÙÙŠ Ù‡ÙÙˆÙ Ø¬ÙÙ†Ø¯ÙŒ Ù„Ù‘ÙÙƒÙÙ…Ù’ ÙŠÙÙ†ØµÙØ±ÙÙƒÙÙ… Ù…Ù‘ÙÙ† Ø¯ÙÙˆÙ†Ù Ø§Ù„Ø±Ù‘ÙØ­Ù’Ù…ÙÙ†Ù Ø¥ÙÙ†Ù Ø§Ù„Ù’ÙƒÙØ§ÙÙØ±ÙÙˆÙ†Ù Ø¥ÙÙ„Ø§Ù‘Ù ÙÙÙŠ ØºÙØ±ÙÙˆØ±Ù (20) Ø£ÙÙ…Ù‘ÙÙ†Ù’ Ù‡ÙØ°ÙØ§ Ø§Ù„Ù‘ÙØ°ÙÙŠ ÙŠÙØ±Ù’Ø²ÙÙ‚ÙÙƒÙÙ…Ù’ Ø¥ÙÙ†Ù’ Ø£ÙÙ…Ù’Ø³ÙÙƒÙ Ø±ÙØ²Ù’Ù‚ÙÙ‡Ù Ø¨ÙÙ„ Ù„Ù‘ÙØ¬Ù‘ÙÙˆØ§ ÙÙÙŠ Ø¹ÙØªÙÙˆÙ‘Ù ÙˆÙÙ†ÙÙÙÙˆØ±Ù (21) Ø£ÙÙÙÙ…ÙÙ† ÙŠÙÙ…Ù’Ø´ÙÙŠ Ù…ÙÙƒÙØ¨Ù‘Ù‹Ø§ Ø¹ÙÙ„ÙÙ‰ ÙˆÙØ¬Ù’Ù‡ÙÙ‡Ù Ø£ÙÙ‡Ù’Ø¯ÙÙ‰ Ø£ÙÙ…Ù‘ÙÙ† ÙŠÙÙ…Ù’Ø´ÙÙŠ Ø³ÙÙˆÙÙŠÙ‘Ù‹Ø§ Ø¹ÙÙ„ÙÙ‰ ØµÙØ±ÙØ§Ø·Ù Ù…Ù‘ÙØ³Ù’ØªÙÙ‚ÙÙŠÙ…Ù (22) Ù‚ÙÙ„Ù’ Ù‡ÙÙˆÙ Ø§Ù„Ù‘ÙØ°ÙÙŠ Ø£ÙÙ†Ø´Ø£ÙÙƒÙÙ…Ù’ ÙˆÙØ¬ÙØ¹ÙÙ„Ù Ù„ÙÙƒÙÙ…Ù Ø§Ù„Ø³Ù‘ÙÙ…Ù’Ø¹Ù ÙˆÙØ§Ù„Ø£ÙØ¨Ù’ØµÙØ§Ø±Ù ÙˆÙØ§Ù„Ø£ÙÙÙ’Ø¦ÙØ¯ÙØ©Ù Ù‚ÙÙ„ÙÙŠÙ„Ø§ Ù…Ù‘ÙØ§ ØªÙØ´Ù’ÙƒÙØ±ÙÙˆÙ†Ù (23) Ù‚ÙÙ„Ù’ Ù‡ÙÙˆÙ Ø§Ù„Ù‘ÙØ°ÙÙŠ Ø°ÙØ±ÙØ£ÙÙƒÙÙ…Ù’ ÙÙÙŠ Ø§Ù„Ø£ÙØ±Ù’Ø¶Ù ÙˆÙØ¥ÙÙ„ÙÙŠÙ’Ù‡Ù ØªÙØ­Ù’Ø´ÙØ±ÙÙˆÙ†Ù (24) ÙˆÙÙŠÙÙ‚ÙÙˆÙ„ÙÙˆÙ†Ù Ù…ÙØªÙÙ‰ Ù‡ÙØ°ÙØ§ Ø§Ù„Ù’ÙˆÙØ¹Ù’Ø¯Ù Ø¥ÙÙ† ÙƒÙÙ†ØªÙÙ…Ù’ ØµÙØ§Ø¯ÙÙ‚ÙÙŠÙ†Ù (25) Ù‚ÙÙ„Ù’ Ø¥ÙÙ†Ù‘ÙÙ…ÙØ§ Ø§Ù„Ù’Ø¹ÙÙ„Ù’Ù…Ù Ø¹ÙÙ†Ø¯Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù ÙˆÙØ¥ÙÙ†Ù‘ÙÙ…ÙØ§ Ø£ÙÙ†ÙØ§ Ù†ÙØ°ÙÙŠØ±ÙŒ Ù…Ù‘ÙØ¨ÙÙŠÙ†ÙŒ (26) ÙÙÙ„ÙÙ…Ù‘ÙØ§ Ø±ÙØ£ÙÙˆÙ’Ù‡Ù Ø²ÙÙ„Ù’ÙÙØ©Ù‹ Ø³ÙÙŠØ¦ÙØªÙ’ ÙˆÙØ¬ÙÙˆÙ‡Ù Ø§Ù„Ù‘ÙØ°ÙÙŠÙ†Ù ÙƒÙÙÙØ±ÙÙˆØ§ ÙˆÙÙ‚ÙÙŠÙ„Ù Ù‡ÙØ°ÙØ§ Ø§Ù„Ù‘ÙØ°ÙÙŠ ÙƒÙÙ†ØªÙÙ… Ø¨ÙÙ‡Ù ØªÙØ¯Ù‘ÙØ¹ÙÙˆÙ†Ù (27) Ù‚ÙÙ„Ù’ Ø£ÙØ±ÙØ£ÙÙŠÙ’ØªÙÙ…Ù’ Ø¥ÙÙ†Ù’ Ø£ÙÙ‡Ù’Ù„ÙÙƒÙÙ†ÙÙŠÙ Ø§Ù„Ù„Ù‘ÙÙ‡Ù ÙˆÙÙ…ÙÙ† Ù…Ù‘ÙØ¹ÙÙŠÙ Ø£ÙÙˆÙ’ Ø±ÙØ­ÙÙ…ÙÙ†ÙØ§ ÙÙÙ…ÙÙ† ÙŠÙØ¬ÙÙŠØ±Ù Ø§Ù„Ù’ÙƒÙØ§ÙÙØ±ÙÙŠÙ†Ù Ù…ÙÙ†Ù’ Ø¹ÙØ°ÙØ§Ø¨Ù Ø£ÙÙ„ÙÙŠÙ…Ù (28) Ù‚ÙÙ„Ù’ Ù‡ÙÙˆÙ Ø§Ù„Ø±Ù‘ÙØ­Ù’Ù…ÙÙ†Ù Ø¢Ù…ÙÙ†Ù‘ÙØ§ Ø¨ÙÙ‡Ù ÙˆÙØ¹ÙÙ„ÙÙŠÙ’Ù‡Ù ØªÙÙˆÙÙƒÙ‘ÙÙ„Ù’Ù†ÙØ§ ÙÙØ³ÙØªÙØ¹Ù’Ù„ÙÙ…ÙÙˆÙ†Ù Ù…ÙÙ†Ù’ Ù‡ÙÙˆÙ ÙÙÙŠ Ø¶ÙÙ„Ø§Ù„Ù Ù…Ù‘ÙØ¨ÙÙŠÙ†Ù (29) Ù‚ÙÙ„Ù’ Ø£ÙØ±ÙØ£ÙÙŠÙ’ØªÙÙ…Ù’ Ø¥ÙÙ†Ù’ Ø£ÙØµÙ’Ø¨ÙØ­Ù Ù…ÙØ§Ø¤ÙÙƒÙÙ…Ù’ ØºÙÙˆÙ’Ø±Ù‹Ø§ ÙÙÙ…ÙÙ† ÙŠÙØ£Ù’ØªÙÙŠÙƒÙÙ… Ø¨ÙÙ…ÙØ§Ø¡ Ù…Ù‘ÙØ¹ÙÙŠÙ†Ù (30)", r: "ÙƒØ§Ù…Ù„Ø©" }
  ],
  "Ø³ÙˆØ±Ø© Ø§Ù„ÙƒÙ‡Ù": [
    { t: "Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù Ù„ÙÙ„Ù‘ÙÙ‡Ù Ø§Ù„Ù‘ÙØ°ÙÙŠ Ø£ÙÙ†Ù’Ø²ÙÙ„Ù Ø¹ÙÙ„ÙÙ‰ Ø¹ÙØ¨Ù’Ø¯ÙÙ‡Ù Ø§Ù„Ù’ÙƒÙØªÙØ§Ø¨Ù ÙˆÙÙ„ÙÙ…Ù’ ÙŠÙØ¬Ù’Ø¹ÙÙ„Ù’ Ù„ÙÙ‡Ù Ø¹ÙÙˆØ¬ÙØ§ (1) Ù‚ÙÙŠÙ‘ÙÙ…Ù‹Ø§ Ù„ÙÙŠÙÙ†Ù’Ø°ÙØ±Ù Ø¨ÙØ£Ù’Ø³Ù‹Ø§ Ø´ÙØ¯ÙÙŠØ¯Ù‹Ø§ Ù…ÙÙ†Ù’ Ù„ÙØ¯ÙÙ†Ù’Ù‡Ù ÙˆÙÙŠÙØ¨ÙØ´Ù‘ÙØ±Ù Ø§Ù„Ù’Ù…ÙØ¤Ù’Ù…ÙÙ†ÙÙŠÙ†Ù Ø§Ù„Ù‘ÙØ°ÙÙŠÙ†Ù ÙŠÙØ¹Ù’Ù…ÙÙ„ÙÙˆÙ†Ù Ø§Ù„ØµÙ‘ÙØ§Ù„ÙØ­ÙØ§ØªÙ Ø£ÙÙ†Ù‘Ù Ù„ÙÙ‡ÙÙ…Ù’ Ø£ÙØ¬Ù’Ø±Ù‹Ø§ Ø­ÙØ³ÙÙ†Ù‹Ø§ (2) Ù…ÙØ§ÙƒÙØ«ÙÙŠÙ†Ù ÙÙÙŠÙ‡Ù Ø£ÙØ¨ÙØ¯Ù‹Ø§ (3) ÙˆÙÙŠÙÙ†Ù’Ø°ÙØ±Ù Ø§Ù„Ù‘ÙØ°ÙÙŠÙ†Ù Ù‚ÙØ§Ù„ÙÙˆØ§ Ø§ØªÙ‘ÙØ®ÙØ°Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù ÙˆÙÙ„ÙØ¯Ù‹Ø§ (4) Ù…ÙØ§ Ù„ÙÙ‡ÙÙ…Ù’ Ø¨ÙÙ‡Ù Ù…ÙÙ†Ù’ Ø¹ÙÙ„Ù’Ù…Ù ÙˆÙÙ„ÙØ§ Ù„ÙØ¢Ø¨ÙØ§Ø¦ÙÙ‡ÙÙ…Ù’ ÙƒÙØ¨ÙØ±ÙØªÙ’ ÙƒÙÙ„ÙÙ…ÙØ©Ù‹ ØªÙØ®Ù’Ø±ÙØ¬Ù Ù…ÙÙ†Ù’ Ø£ÙÙÙ’ÙˆÙØ§Ù‡ÙÙ‡ÙÙ…Ù’ Ø¥ÙÙ†Ù’ ÙŠÙÙ‚ÙÙˆÙ„ÙÙˆÙ†Ù Ø¥ÙÙ„Ù‘ÙØ§ ÙƒÙØ°ÙØ¨Ù‹Ø§ (5) ÙÙÙ„ÙØ¹ÙÙ„Ù‘ÙÙƒÙ Ø¨ÙØ§Ø®ÙØ¹ÙŒ Ù†ÙÙÙ’Ø³ÙÙƒÙ Ø¹ÙÙ„ÙÙ‰ Ø¢Ø«ÙØ§Ø±ÙÙ‡ÙÙ…Ù’ Ø¥ÙÙ†Ù’ Ù„ÙÙ…Ù’ ÙŠÙØ¤Ù’Ù…ÙÙ†ÙÙˆØ§ Ø¨ÙÙ‡ÙØ°ÙØ§ Ø§Ù„Ù’Ø­ÙØ¯ÙÙŠØ«Ù Ø£ÙØ³ÙÙÙ‹Ø§ (6) Ø¥ÙÙ†Ù‘ÙØ§ Ø¬ÙØ¹ÙÙ„Ù’Ù†ÙØ§ Ù…ÙØ§ Ø¹ÙÙ„ÙÙ‰ Ø§Ù„Ù’Ø£ÙØ±Ù’Ø¶Ù Ø²ÙÙŠÙ†ÙØ©Ù‹ Ù„ÙÙ‡ÙØ§ Ù„ÙÙ†ÙØ¨Ù’Ù„ÙÙˆÙÙ‡ÙÙ…Ù’ Ø£ÙÙŠÙ‘ÙÙ‡ÙÙ…Ù’ Ø£ÙØ­Ù’Ø³ÙÙ†Ù Ø¹ÙÙ…ÙÙ„Ù‹Ø§ (7) ÙˆÙØ¥ÙÙ†Ù‘ÙØ§ Ù„ÙØ¬ÙØ§Ø¹ÙÙ„ÙÙˆÙ†Ù Ù…ÙØ§ Ø¹ÙÙ„ÙÙŠÙ’Ù‡ÙØ§ ØµÙØ¹ÙÙŠØ¯Ù‹Ø§ Ø¬ÙØ±ÙØ²Ù‹Ø§ (8) Ø£ÙÙ…Ù’ Ø­ÙØ³ÙØ¨Ù’ØªÙ Ø£ÙÙ†Ù‘Ù Ø£ÙØµÙ’Ø­ÙØ§Ø¨Ù Ø§Ù„Ù’ÙƒÙÙ‡Ù’ÙÙ ÙˆÙØ§Ù„Ø±Ù‘ÙÙ‚ÙÙŠÙ…Ù ÙƒÙØ§Ù†ÙÙˆØ§ Ù…ÙÙ†Ù’ Ø¢ÙŠÙØ§ØªÙÙ†ÙØ§ Ø¹ÙØ¬ÙØ¨Ù‹Ø§ (9) Ø¥ÙØ°Ù’ Ø£ÙÙˆÙÙ‰ Ø§Ù„Ù’ÙÙØªÙ’ÙŠÙØ©Ù Ø¥ÙÙ„ÙÙ‰ Ø§Ù„Ù’ÙƒÙÙ‡Ù’ÙÙ ÙÙÙ‚ÙØ§Ù„ÙÙˆØ§ Ø±ÙØ¨Ù‘ÙÙ†ÙØ§ Ø¢ØªÙÙ†ÙØ§ Ù…ÙÙ†Ù’ Ù„ÙØ¯ÙÙ†Ù’ÙƒÙ Ø±ÙØ­Ù’Ù…ÙØ©Ù‹ ÙˆÙÙ‡ÙÙŠÙ‘ÙØ¦Ù’ Ù„ÙÙ†ÙØ§ Ù…ÙÙ†Ù’ Ø£ÙÙ…Ù’Ø±ÙÙ†ÙØ§ Ø±ÙØ´ÙØ¯Ù‹Ø§ (10) [ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø­ØªÙ‰ Ø¢ÙŠØ© 110 Ù…Ù† Ø§Ù„Ù…ØµØ­Ù Ø§Ù„Ù…Ø¯Ù…Ø¬]", r: "1-110" }
  ],
  "Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù†ÙˆÙ…": [
    { t: "Ø¨ÙØ§Ø³Ù’Ù…ÙÙƒÙ Ø±ÙØ¨ÙÙ‘ÙŠ ÙˆÙØ¶ÙØ¹Ù’ØªÙ Ø¬ÙÙ†Ù’Ø¨ÙÙŠØŒ ÙˆÙØ¨ÙÙƒÙ Ø£ÙØ±Ù’ÙÙØ¹ÙÙ‡ÙØŒ ÙÙØ¥ÙÙ†Ù’ Ø£ÙÙ…Ù’Ø³ÙÙƒÙ’ØªÙ Ù†ÙÙÙ’Ø³ÙÙŠ ÙÙØ§Ø±Ù’Ø­ÙÙ…Ù’Ù‡ÙØ§ØŒ ÙˆÙØ¥ÙÙ†Ù’ Ø£ÙØ±Ù’Ø³ÙÙ„Ù’ØªÙÙ‡ÙØ§ ÙÙØ§Ø­Ù’ÙÙØ¸Ù’Ù‡ÙØ§ Ø¨ÙÙ…ÙØ§ ØªÙØ­Ù’ÙÙØ¸Ù Ø¨ÙÙ‡Ù Ø¹ÙØ¨ÙØ§Ø¯ÙÙƒÙ Ø§Ù„ØµÙÙ‘Ø§Ù„ÙØ­ÙÙŠÙ†Ù.", r: "1" },
    { t: "Ø§Ù„Ù„Ù‘ÙÙ‡ÙÙ…Ù‘Ù Ù‚ÙÙ†ÙÙŠ Ø¹ÙØ°ÙØ§Ø¨ÙÙƒÙ ÙŠÙÙˆÙ’Ù…Ù ØªÙØ¨Ù’Ø¹ÙØ«Ù Ø¹ÙØ¨ÙØ§Ø¯ÙÙƒÙ.", r: "3" },
    { t: "Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ (33)ØŒ Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ (33)ØŒ Ø§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø± (34)", r: "100" }
  ]
};

const hadiths = ["Â«Ø®ÙŠØ§Ø±ÙƒÙ… Ø®ÙŠØ§Ø±ÙƒÙ… Ù„Ø£Ù‡Ù„Ù‡Ù…Â»", "Â«Ø£Ø­Ø¨ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø¥Ù„Ù‰ Ø§Ù„Ù„Ù‡ Ø£Ø¯ÙˆÙ…Ù‡Ø§ ÙˆØ¥Ù† Ù‚Ù„Â»", "Â«Ù…Ù† Ù‚Ø±Ø£ Ø³ÙˆØ±Ø© Ø§Ù„ÙƒÙ‡Ù ÙŠÙˆÙ… Ø§Ù„Ø¬Ù…Ø¹Ø© Ø£Ø¶Ø§Ø¡ Ù„Ù‡ Ù…Ù† Ø§Ù„Ù†ÙˆØ± Ù…Ø§ Ø¨ÙŠÙ† Ø§Ù„Ø¬Ù…Ø¹ØªÙŠÙ†Â»"];

function App(){
  const users = ['Ù…Ø­Ù…Ø¯','Ø´ÙŠÙ…Ø§Ø¡','Ø£Ø­Ù…Ø¯','ÙŠØ§Ø³ÙŠÙ†'];
  const [date, setDate] = useState(new Date().toISOString().split('T')[0]);
  const [data, setData] = useState({});
  const [activeBook, setActiveBook] = useState(null);
  const [messages, setMessages] = useState([]);
  const [newMsg, setNewMsg] = useState("");
  const [currentUser, setCurrentUser] = useState("Ù…Ø­Ù…Ø¯");

  const isFriday = new Date(date).getDay() === 5;

  useEffect(() => {
    const unsubData = window.onSnapshot(window.docRef, (snap) => { if (snap.exists()) setData(snap.data()); });
    const dailyChatRef = window.docFunc(window.db, "chats", date);
    const unsubChat = window.onSnapshot(dailyChatRef, (snap) => { if (snap.exists()) setMessages(snap.data().messages || []); else setMessages([]); });
    return () => { unsubData(); unsubChat(); };
  }, [date]);

  const update = async (user, task, val) => {
    const newData = { ...data, [date]: { ...data[date], [user]: { ...data[date]?.[user], [task]: val } } };
    await window.setDoc(window.docRef, newData);
  };

  const sendChat = async () => {
    if (!newMsg.trim()) return;
    const dailyChatRef = window.docFunc(window.db, "chats", date);
    await window.setDoc(dailyChatRef, { messages: window.arrayUnion({ user: currentUser, text: newMsg, time: new Date().toLocaleTimeString('ar-EG', {hour:'2-digit', minute:'2-digit'}) }) }, { merge: true });
    setNewMsg("");
  };

  const prayers = ["ØµÙ„Ø§Ø© Ø§Ù„ÙØ¬Ø±", isFriday ? "ØµÙ„Ø§Ø© Ø§Ù„Ø¬Ù…Ø¹Ø©" : "ØµÙ„Ø§Ø© Ø§Ù„Ø¸Ù‡Ø±", "ØµÙ„Ø§Ø© Ø§Ù„Ø¹ØµØ±", "ØµÙ„Ø§Ø© Ø§Ù„Ù…ØºØ±Ø¨", "ØµÙ„Ø§Ø© Ø§Ù„Ø¹Ø´Ø§Ø¡"];
  const sunan = ["Ø³Ù†Ø© Ø§Ù„ÙØ¬Ø± (Ù¢ Ø±ÙƒØ¹Ø©)", "Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­", "ØµÙ„Ø§Ø© Ø§Ù„Ø¶Ø­Ù‰", "Ø³Ù†Ø© Ø§Ù„Ø¸Ù‡Ø± (Ù¤ Ù‚Ø¨Ù„)", "Ø³Ù†Ø© Ø§Ù„Ø¸Ù‡Ø± (Ù¢ Ø¨Ø¹Ø¯)", "Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù…Ø³Ø§Ø¡", "Ø³Ù†Ø© Ø§Ù„Ù…ØºØ±Ø¨ (Ù¢ Ø¨Ø¹Ø¯)", "Ø³Ù†Ø© Ø§Ù„Ø¹Ø´Ø§Ø¡ (Ù¢ Ø¨Ø¹Ø¯)", "Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ù„Ùƒ", "Ø£Ø°ÙƒØ§Ø± Ø§Ù„Ù†ÙˆÙ…", "Ù‚ÙŠØ§Ù… Ø§Ù„Ù„ÙŠÙ„", "Ø§Ù„Ø´ÙØ¹ ÙˆØ§Ù„ÙˆØªØ±", "Ø§Ù„ÙˆØ±Ø¯ Ø§Ù„Ù‚Ø±Ø¢Ù†ÙŠ"];
  if (isFriday) sunan.splice(2, 0, "Ø³ÙˆØ±Ø© Ø§Ù„ÙƒÙ‡Ù");

  const scores = users.map(u => {
    const d = data[date]?.[u] || {};
    let s = 0;
    Object.values(d).forEach(v => { if(v===true || v==="Ù…Ø³Ø¬Ø¯" || v==="Ø­Ø§Ø¶Ø±") s+=3; else if(v==="ÙØ±Ø¯") s+=2; else if(v==="Ù‚Ø¶Ø§Ø¡") s+=1; });
    return { name: u, score: s };
  }).sort((a,b) => b.score - a.score);

  return (
    <div className="max-w-md mx-auto">
      {/* Ù†Ø§ÙØ°Ø© Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…ÙˆØ³ÙˆØ¹ÙŠØ© */}
      {activeBook && (
        <div className="reader-overlay">
          <div className="reader-header">
            <span className="font-black text-xl">{activeBook}</span>
            <button onClick={() => setActiveBook(null)} className="bg-red-500 px-4 py-1 rounded-lg">Ø¥ØºÙ„Ø§Ù‚ Ã—</button>
          </div>
          <div className="reader-body">
            <div className="quran-container">
              {FULL_LIBRARY[activeBook] ? FULL_LIBRARY[activeBook].map((item, i) => (
                <div key={i} className="zekr-card">
                  <p>{item.t}</p>
                  <span className="repeat-btn">Ø§Ù„ØªÙƒØ±Ø§Ø±: {item.r}</span>
                </div>
              )) : "Ø¬Ø§Ø±ÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ÙƒØ§Ù…Ù„..."}
              <div className="py-10 text-center text-sm text-gray-400">Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© - ØªÙ‚Ø¨Ù„ Ø§Ù„Ù„Ù‡ Ù…Ù†ÙƒÙ…</div>
            </div>
          </div>
        </div>
      )}

      <header className="py-6 text-center">
        <h1 className="text-3xl font-black text-gray-800">Ù…Ø­Ø±Ø§Ø¨ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø© ğŸ </h1>
        <div className="mt-4 neu-card bg-indigo-600 text-white text-sm py-3 border-r-8 border-yellow-400">
           <p className="font-serif italic text-lg">{hadiths[new Date(date).getDate() % hadiths.length]}</p>
        </div>
      </header>

      {/* Ù…Ù†ØµØ© Ø§Ù„ØªØªÙˆÙŠØ¬ */}
      <div className="neu-card flex justify-around items-end h-40 pt-10">
        <div className="flex flex-col items-center">
          <div className={`royal-avatar ${scores[1].name==='Ù…Ø­Ù…Ø¯'?'av-m':scores[1].name==='Ø´ÙŠÙ…Ø§Ø¡'?'av-s':scores[1].name==='Ø£Ø­Ù…Ø¯'?'av-a':'av-y'}`}>{scores[1].name[0]}</div>
          <div className="bg-gray-300 w-16 h-12 mt-2 rounded-t-lg flex items-center justify-center font-bold">2</div>
        </div>
        <div className="flex flex-col items-center">
          <span className="text-2xl animate-bounce">ğŸ‘‘</span>
          <div className={`royal-avatar scale-110 ${scores[0].name==='Ù…Ø­Ù…Ø¯'?'av-m':scores[0].name==='Ø´ÙŠÙ…Ø§Ø¡'?'av-s':scores[0].name==='Ø£Ø­Ù…Ø¯'?'av-a':'av-y'}`}>{scores[0].name[0]}</div>
          <div className="bg-yellow-400 w-20 h-20 mt-2 rounded-t-lg flex items-center justify-center font-bold text-xl">1</div>
        </div>
        <div className="flex flex-col items-center">
          <div className={`royal-avatar ${scores[2].name==='Ù…Ø­Ù…Ø¯'?'av-m':scores[2].name==='Ø´ÙŠÙ…Ø§Ø¡'?'av-s':scores[2].name==='Ø£Ø­Ù…Ø¯'?'av-a':'av-y'}`}>{scores[2].name[0]}</div>
          <div className="bg-orange-300 w-16 h-8 mt-2 rounded-t-lg flex items-center justify-center font-bold">3</div>
        </div>
      </div>

      <div className="neu-card p-4 flex justify-center">
        <input type="date" value={date} onChange={e => setDate(e.target.value)} className="neu-inset px-4 py-2 font-bold outline-none"/>
      </div>

      {/* Ø§Ù„Ø¬Ø¯ÙˆÙ„ */}
      <div className="neu-card overflow-x-auto">
        <table className="w-full text-center">
          <thead>
            <tr>
              <th className="text-right text-xs p-2">Ø§Ù„Ø¹Ø¨Ø§Ø¯Ø©</th>
              {users.map(u => <th key={u} className="p-1"><div className={`royal-avatar w-10 h-10 text-xs mx-auto ${u==='Ù…Ø­Ù…Ø¯'?'av-m':u==='Ø´ÙŠÙ…Ø§Ø¡'?'av-s':u==='Ø£Ø­Ù…Ø¯'?'av-a':'av-y'}`}>{u[0]}</div></th>)}
            </tr>
          </thead>
          <tbody className="divide-y">
            {prayers.map(p => (
              <tr key={p}>
                <td className="text-right py-4 text-[10px] font-bold">{p}</td>
                {users.map(u => (
                  <td key={u}><select value={data[date]?.[u]?.[p] || ""} onChange={e => update(u, p, e.target.value)} className="neu-inset text-[9px] p-1">
                    <option value="">-</option>
                    {['Ù…Ø­Ù…Ø¯','Ø£Ø­Ù…Ø¯','ÙŠØ§Ø³ÙŠÙ†'].includes(u) ? <><option value="Ù…Ø³Ø¬Ø¯">ğŸ•Œ</option><option value="ÙØ±Ø¯">ğŸ </option></> : <option value="Ø­Ø§Ø¶Ø±">âœ…</option>}
                  </select></td>
                ))}
              </tr>
            ))}
            <tr className="bg-gray-50"><td colSpan="5" className="text-center py-2 font-black text-[10px]">Ø§Ù„Ø³Ù†Ù† (Ø§Ø¶ØºØ· Ù„Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø© ğŸ“–)</td></tr>
            {sunan.map(s => (
              <tr key={s}>
                <td className="text-right py-3 text-[10px] font-bold text-blue-600 cursor-pointer" onClick={() => FULL_LIBRARY[s.split(' (')[0]] && setActiveBook(s.split(' (')[0])}>
                  {s} {FULL_LIBRARY[s.split(' (')[0]] && "ğŸ“–"}
                </td>
                {users.map(u => (
                  <td key={u}><button onClick={() => update(u, s, !data[date]?.[u]?.[s])} className={`w-8 h-8 rounded-lg ${data[date]?.[u]?.[s] ? 'bg-indigo-600 text-white' : 'bg-gray-100 text-gray-300'}`}>{data[date]?.[u]?.[s] ? "ğŸ’" : "â—‹"}</button></td>
                ))}
              </tr>
            ))}
          </tbody>
        </table>
      </div>

      {/* Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© */}
      <div className="neu-card mb-20">
        <h3 className="font-black text-sm mb-4 border-b pb-2">Ù…Ø¬Ù„Ø³ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø© Ø§Ù„ØªØ´Ø¬ÙŠØ¹ÙŠ ğŸ’¬</h3>
        <div className="neu-inset h-40 overflow-y-auto p-4 mb-4">
          {messages.map((m, i) => (
            <div key={i} className={`mb-2 p-2 rounded-xl text-xs ${m.user === currentUser ? 'bg-indigo-100 mr-8 text-right' : 'bg-white ml-8 border'}`}>
              <b className="block text-[8px]">{m.user}</b> {m.text}
            </div>
          ))}
        </div>
        <div className="flex gap-2">
          <select value={currentUser} onChange={e => setCurrentUser(e.target.value)} className="w-20 text-[10px] neu-inset">
            {users.map(u => <option key={u} value={u}>{u}</option>)}
          </select>
          <input value={newMsg} onChange={e => setNewMsg(e.target.value)} placeholder="Ø´Ø¬Ø¹ Ø£Ù‡Ù„Ùƒ..." className="flex-1 neu-inset p-2 text-xs outline-none"/>
          <button onClick={sendChat} className="bg-indigo-600 text-white px-4 rounded-xl">ğŸš€</button>
        </div>
      </div>
    </div>
  );
}

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(<App />);
</script>
</body>
</html>
